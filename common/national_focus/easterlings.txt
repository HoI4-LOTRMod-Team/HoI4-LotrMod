#!gfx:interface\auto_generated\lotr_goals.gfx

focus_tree = {
id = 'easterlings'
country = {
    factor = 0
    modifier = {
        add = 10
        tag = RHU
    }
}

default = no

continuous_focus_position = { x = 50 y = 1000 }

##############
### Industrial
##############
focus = {
    id = RHU_develop_the_industry
    icon = GFX_goal_generic_production
    x = 2
    y = 0
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        add_tech_bonus = {
			name = special_bonus
			bonus = 0.5
			uses = 2
			category = lotr_labour_construction
		}
    }
}

focus = {
    id = RHU_develop_the_north
    icon = GFX_focus_generic_industry_2
    x = 2
    y = 1
    relative_position_id = RHU_develop_the_industry
    prerequisite = { focus = RHU_develop_the_industry }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 102
    }
    completion_reward = {
        102 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = industrial_complex level = 3 instant_build = yes }
        }
    }
}

focus = {
    id = RHU_develop_military_north
    icon = GFX_goal_generic_anvil
    x = 0
    y = 1
    relative_position_id = RHU_develop_the_north
    prerequisite = { focus = RHU_develop_the_north }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 102
    }
    completion_reward = {
        102 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = arms_factory level = 3 instant_build = yes }
        }
    }
}


focus = {
    id = RHU_develop_the_east
    icon = GFX_focus_generic_industry_2
    x = 0
    y = 1
    relative_position_id = RHU_develop_the_industry
    prerequisite = { focus = RHU_develop_the_industry }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 129
    }
    completion_reward = {
        129 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = industrial_complex level = 3 instant_build = yes }
        }
    }
}


focus = {
    id = RHU_develop_military_east
    icon = GFX_goal_generic_anvil
    x = 0
    y = 1
    relative_position_id = RHU_develop_the_east
    prerequisite = { focus = RHU_develop_the_east }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 129
    }
    completion_reward = {
        129 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = arms_factory level = 3 instant_build = yes }
        }
    }
}

focus = {
    id = RHU_develop_the_south
    icon = GFX_focus_generic_industry_2
    x = -2
    y = 1
    relative_position_id = RHU_develop_the_industry
    prerequisite = { focus = RHU_develop_the_industry }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 104
    }
    completion_reward = {
        104 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = industrial_complex level = 3 instant_build = yes }
        }
    }
}

focus = {
    id = RHU_develop_military_south
    icon = GFX_goal_generic_anvil
    x = 0
    y = 1
    relative_position_id = RHU_develop_the_south
    prerequisite = { focus = RHU_develop_the_south }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 104
    }
    completion_reward = {
        104 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = arms_factory level = 3 instant_build = yes }
        }
    }
}

focus = {
    id = RHU_infra_south_east
    icon = GFX_goal_generic_infrastructure_investment
    x = 1
    y = 1
    relative_position_id = RHU_develop_military_south
    prerequisite = { focus = RHU_develop_military_south focus = RHU_develop_military_east }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 132
        controls_state = 124
    }
    completion_reward = {
        132 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = infrastructure level = 3 instant_build = yes }
        }
        124 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = infrastructure level = 3 instant_build = yes }
        }
    }
}

focus = {
    id = RHU_research_team
    icon = GFX_focus_research
    x = 0
    y = 1
    relative_position_id = RHU_infra_south_east
    prerequisite = { focus = RHU_infra_south_east }
    prerequisite = { focus = RHU_infra_north }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        add_research_slot = 1
    }
}

focus = {
    id = RHU_infra_north
    icon = GFX_goal_generic_infrastructure_investment
    x = 0
    y = 1
    relative_position_id = RHU_develop_military_north
    prerequisite = { focus = RHU_develop_military_north }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 102
    }
    completion_reward = {
        102 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = infrastructure level = 3 instant_build = yes }
        }
    }
}

focus = {
    id = RHU_state_investment
    icon = GFX_goal_generic_consumer_goods
    x = 0
    y = 1
    relative_position_id = RHU_infra_north
    prerequisite = { focus = RHU_infra_north }
    prerequisite = { focus = RHU_infra_south_east }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        add_ideas = RHU_state_investment
    }
}

###########
## Army
###########

focus = {
    id = RHU_army_focus
    icon = GFX_goal_generic_small_arms
    x = 9
    y = 0
    cost = 10
    ai_will_do = { factor = 15 }
    completion_reward = {
        army_experience = 25
    }
}

focus = {
    id = RHU_archery
    icon = GFX_focus_generic_air_defense
    x = -2
    y = 1
    relative_position_id = RHU_army_focus
    prerequisite = { focus = RHU_army_focus }
    cost = 10
    ai_will_do = { factor = 15 }
    completion_reward = {
        add_tech_bonus = {
			name = lotr_infantry_archery
			ahead_reduction = 0.5
			uses = 2
			category = lotr_infantry_archery
		}
    }
}

focus = {
    id = RHU_crossbow
    icon = GFX_focus_generic_air_defense
    x = 0
    y = 1
    relative_position_id = RHU_archery
    prerequisite = { focus = RHU_archery }
    cost = 10
    ai_will_do = { factor = 15 }
    completion_reward = {
        add_tech_bonus = {
			name = lotr_infantry_archery
			ahead_reduction = 1
			uses = 1
			category = lotr_infantry_archery_crossbow
		}
    }
}

focus = {
    id = RHU_army_calvery
    icon = GFX_goal_generic_cavalry
    x = 0
    y = 1
    relative_position_id = RHU_army_focus
    prerequisite = { focus = RHU_army_focus }
    cost = 10
    ai_will_do = {
        factor = 20
        modifier = {
            factor = 2
            target_light_cav_strat = yes
        }
    }
    completion_reward = {
		add_tech_bonus = {
			name = armor_bonus
			bonus = 0.5
			uses = 1
			category = lotr_cavalry_light
		}
    }
}

focus = {
    id = RHU_better_calvery
    icon = GFX_goal_generic_cavalry
    x = 0
    y = 1
    relative_position_id = RHU_army_calvery
    prerequisite = { focus = RHU_army_calvery }
    cost = 10
    ai_will_do = {
        factor = 15
        modifier = {
            factor = 3
            OR = {
                target_heavy_cav_strat = yes
                target_heavy_cav_chariots_strat = yes
            }
        }
    }
    completion_reward = {
		add_tech_bonus = {
			name = armor_bonus
			bonus = 0.5
			uses = 1
			category = lotr_cavalry_lancer
		}
		add_tech_bonus = {
			name = armor_bonus
			bonus = 0.5
			uses = 1
			category = lotr_cavalry_heavy
		}
    }
}

focus = {
    id = RHU_ballista
    icon = GFX_goal_generic_army_artillery2
    x = 2
    y = 1
    relative_position_id = RHU_army_focus
    prerequisite = { focus = RHU_army_focus }
    cost = 10
    ai_will_do = { factor = 5 }
    completion_reward = {
        add_tech_bonus = {
			name = lotr_machines_ballista
			bonus = 0.5
			uses = 1
			category = lotr_machines_ballista
		}
    }
}

focus = {
    id = RHU_army_of_the_east
    icon = GFX_goal_generic_small_arms
    x = 1
    y = 1
    available = {
        has_civil_war = no
    }
    relative_position_id = RHU_crossbow
    prerequisite = { focus = RHU_crossbow focus = RHU_better_calvery }
    cost = 10
    ai_will_do = { factor = 25 }
    completion_reward = {
        add_ideas = RHU_army_of_the_east
    }
}

###########
## belligerent
###########
focus = {
    id = RHU_follow_the_dark_lord
    icon = GFX_goal_sauron_eye
    mutually_exclusive = { focus = RHU_follow_the_wizards}
    x = 19
    y = 0
    cost = 10
    ai_will_do = {
        factor = 15
        modifier = {
            add = 25
            MOR = {
                has_government = belligerent
            }
        }
        modifier = { factor = 0 is_going_belligerent = no }
    }
	allow_branch = {
        NOT = {
            has_completed_focus = RHU_follow_the_wizards
        }
    }
    completion_reward = {
        add_ideas = HAR_follower_of_the_dark_lord
        mark_focus_tree_layout_dirty = yes
    }
}

focus = {
	id = RHU_kill_the_blue_wizards
	icon = GFX_goal_support_belligerent
	ai_will_do = { factor = 50 }
	x = -2
	y = 1
	relative_position_id = RHU_follow_the_dark_lord
	prerequisite = { focus = RHU_follow_the_dark_lord }
	cost = 5
	completion_reward = {
		add_popularity = {
			ideology = belligerent
			popularity = 0.05
		}
		add_stability = -0.05
        add_political_power = 50
        custom_effect_tooltip = RHU_unlock_kill_blue_wizards_decisions
	}
}

focus = {
	id = power_to_khamul
	ai_will_do = { factor = 50 }
	icon = GFX_goal_rhu_nazghul_ringwraith_khamul
	x = 0
	y = 1
	relative_position_id = RHU_follow_the_dark_lord
	prerequisite = { focus = RHU_follow_the_dark_lord }
    ai_will_do = {
        base = 25
        modifier = {
            add = 25
            belligerent > 0.55
        }
    }
	available = {
		belligerent > 0.55
	}
	bypass = {
		has_government = belligerent
	}
	cost = 10
	completion_reward = {
		add_stability = 0.05
		set_politics = {
			ruling_party = belligerent
			elections_allowed = no
		}
	}
}

focus = {
	id = RHU_join_the_dark_pact
	icon = GFX_goal_mordor_flag
	x = 4
	y = 1
    relative_position_id = power_to_khamul
	prerequisite = { focus = power_to_khamul }
	mutually_exclusive = { focus = RHU_go_solo }
    mutually_exclusive = { focus = RHU_create_faction }
	available = {
		MOR = {
			is_faction_leader = yes
			has_government = belligerent
		}
        NOT = {
            is_puppet = yes
        }
	}
	bypass = {
		is_in_faction_with = MOR
	}
	ai_will_do = {
        base = 40
        modifier = {
            add = 5
            MOR = {
                has_government = belligerent
            }
        }
        modifier = {
            add = -99
            has_country_flag = not_joining_mordor
        }
        modifier = {
            add = -99
            has_war_with = MOR
        }
        modifier = {
            add = -99
            MOR = {
                has_completed_focus = resistsauron
            }
        }
    }
	cost = 5
	completion_reward = {
		MOR = {
			country_event = { id = mordor.46 }
		}
	}
}

focus = {
	id = RHU_go_solo
	icon = GFX_focus_generic_treaty
	x = -6
	y = 1
	relative_position_id = power_to_khamul
	prerequisite = { focus = power_to_khamul }
	mutually_exclusive = { focus = RHU_join_the_dark_pact }
    mutually_exclusive = { focus = RHU_create_faction }
	available = {
		NOT = {
			is_in_faction = yes
		}
	}
	ai_will_do = {
        base = 50
        modifier = {
            factor = -5
            MOR = {
                has_government = belligerent
            }
        }
        modifier = {
            factor = 25
            MOR = {
                NOT = {
                    has_government = belligerent
                }
            }
        }
        modifier = {
            factor = 25
            HAR = {
                has_completed_focus = go_solo
                NOT = {
                    has_completed_focus = join_the_dark_pact
                }
            }
        }
        modifier = {
            factor = -50
            is_puppet = yes
        }
    }
	cost = 5
	completion_reward = {
		add_stability = 0.10
        add_ideas = RHU_alone_we_will_fight
        MOR = {
            retire_character = MOR_Khamul
        }
	}
}

focus = {
    id = RHU_declare_sauron_weak
    icon = GFX_goal_stop_melkor_worship
	x = -1
	y = 1
	relative_position_id = RHU_go_solo
	prerequisite = { focus = RHU_go_solo }
	available = {

	}
	ai_will_do = {
        base = 25
    }
	cost = 5
	completion_reward = {
        news_event = { hours = 6 id = news.384 }
        add_named_threat = { threat = 3 name = "Khamul declares himself the new Dark Lord" }
        if = {
            limit = {
                MOR = {
                    has_government = belligerent
                }
            }
            MOR = {
                add_opinion_modifier  = {
                    target = MOR
                    modifier = large_decrease
                }
            }
        }
    }
}

focus = {
	id = RHU_the_new_dark_lord
	icon = GFX_goal_unleash_sauron
	x = -1
	y = 1
	relative_position_id = RHU_declare_sauron_weak
	prerequisite = { focus = RHU_declare_sauron_weak }
	available = {

	}
	ai_will_do = {
        base = 25
    }
	cost = 10
	completion_reward = {
		add_ideas = RHU_the_new_dark_lord
	}
}

focus = {
    id = RHU_take_middle_earth
    icon = GFX_goal_generic_major_war
    x = 0
    y = 1
    relative_position_id = RHU_the_new_dark_lord
    prerequisite = { focus = RHU_the_new_dark_lord}
    available = {
        DOR = {
            OR = {
                exists	= no
                is_puppet_of = RHU
            }
        }
        DAG = {
            OR = {
                exists	= no
                is_puppet_of = RHU
            }
        }
    }
    ai_will_do = {

    }
    cost = 20
    completion_reward = {
        every_country = {
            limit = {
                NOT = { has_government = belligerent }
                NOT = { original_tag = NEP }
            }
            RHU = {
                create_wargoal = { type = annex_everything target = PREV }
            }
        }
    }
}

focus = {
    id = RHU_demand_harad_submission
	icon = GFX_goal_skull_treaty
	x = 1
	y = 1
	relative_position_id = RHU_declare_sauron_weak
	prerequisite = { focus = RHU_declare_sauron_weak }
	available = {

	}
	ai_will_do = {
        base = 25
    }
	cost = 5
    will_lead_to_war_with = MOR
	completion_reward = {
        HAR = {
            country_event = { id = harad.2}
        }
	}
}

focus = {
	id = RHU_take_swamp
	icon = GFX_goal_demand_sudetenland
	x = 2
	y = 1
	relative_position_id = RHU_go_solo
	prerequisite = { focus = RHU_go_solo focus = RHU_create_faction focus = RHU_join_the_dark_pact }
	available = {
		DAG = {
            exists = yes
            NOT = {
                is_in_faction_with = RHU
            }
        }
	}
	ai_will_do = {
        base = 25
        modifier = {
            add = -20
            has_war = yes
        }
        modifier = {
            add = -20
            DAG = {
                is_puppet = yes
            }
        }
    }
	cost = 10
	completion_reward = {
        create_wargoal = {
            type = annex_everything target = DAG
        }
	}
}

focus = {
	id = RHU_swamp_invest_in_infrastructure
	icon = GFX_goal_generic_infrastructure_investment
	x = 0
	y = 1
	relative_position_id = RHU_take_swamp
	prerequisite = { focus = RHU_take_swamp }
	available = {
        OR = {
            RHU = {
                controls_state = 97
                controls_state = 96
                controls_state = 100
                controls_state = 203
            }
            any_subject_country  = {
                controls_state = 97
                controls_state = 96
                controls_state = 100
                controls_state = 203
            }
            any_allied_country = {
                controls_state = 97
                controls_state = 96
                controls_state = 100
                controls_state = 203
            }
        }
	}
	ai_will_do = {
        base = 50
    }
	cost = 10
	completion_reward = {
        build_railway = {
			level = 2
			start_province = 4245
			target_province = 2911
            build_only_on_allied = yes
		}
        build_railway = {
            level = 2
            start_province = 2911
            target_province = 3644
            build_only_on_allied = yes
        }
        build_railway = {
            level = 2
            start_province = 4669
            target_province = 3644
            build_only_on_allied = yes
        }
        100 = {
            add_building_construction = {
                type = supply_node
                level = 1
                instant_build = yes
                province = 3644
            }
        }
        build_railway = {
			level = 2
			start_province = 3644
			target_province = 3845
            build_only_on_allied = yes
		}
        build_railway = {
            level = 2
            start_province = 3845
            target_province = 5515
            build_only_on_allied = yes
        }
        build_railway = {
            level = 2
            start_province = 5515
            target_province = 2367
            build_only_on_allied = yes
        }
		96 = {
			add_building_construction = {
				type = supply_node
				level = 1
				instant_build = yes
				province = 5515
			}
		}
	}
}


focus = {
	id = RHU_swamp_invest_in_infra
	icon = GFX_goal_generic_infrastructure_investment
	x = -2
	y = 1
	relative_position_id = RHU_swamp_invest_in_infrastructure
	prerequisite = { focus = RHU_swamp_invest_in_infrastructure }
	available = {
	}
	ai_will_do = {
        base = 25
    }
	cost = 10
	completion_reward = {
        every_owned_state = {
            limit = { is_core_of = DAG }
            add_building_construction = { type = infrastructure level = 3 instant_build = yes }
        }
	}
}

focus = {
	id = RHU_swamp_invest_in_factory
	icon = GFX_focus_generic_industry_1
	x = 0
	y = 1
	relative_position_id = RHU_swamp_invest_in_infrastructure
	prerequisite = { focus = RHU_swamp_invest_in_infrastructure }
	available = {
        OR = {
            RHU = {
                controls_state = 97
            }
            any_subject_country = {
                controls_state = 97
            }
        }
	}
	ai_will_do = {
        base = 25
    }
	cost = 10
	completion_reward = {
        97 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = { type = industrial_complex level = 2 instant_build = yes }
            add_building_construction = { type = arms_factory level = 1 instant_build = yes }
        }
	}
}

focus = {
    id = RHU_create_faction
    icon = GFX_goal_generic_alliance
	x = 0
	y = 1
	relative_position_id = power_to_khamul
	prerequisite = { focus = power_to_khamul }
	mutually_exclusive = { focus = RHU_join_the_dark_pact }
    mutually_exclusive = { focus = RHU_go_solo }
	available = {
		NOT = {
			is_in_faction = yes
            is_puppet = yes
		}
	}
    ai_will_do = {
        base = 0
    }
	cost = 5
	completion_reward = {
        create_faction = eastlands_alliance
        add_political_power = 100
        custom_effect_tooltip = RHU_unlock_belligerente_support_decisions
	}
}


focus = {
    id = RHU_ally_harad
    icon = GFX_goal_generic_dangerous_deal
    x = 0
    y = 1
    relative_position_id = RHU_create_faction
    prerequisite = { focus = RHU_create_faction }
    mutually_exclusive = { focus = RHU_take_dorwinion }
    ai_will_do = { factor = 25 }
    available = {
        HAR = {
            has_government = belligerent
            is_puppet = no
        }
    }
    bypass = {
        OR = {
            has_completed_focus = go_solo
            has_completed_focus = join_the_dark_pact
        }
    }
    cost = 5
    completion_reward = {
        HAR = {
            country_event = { id = rhun.7 }
        }
    }
}


focus = {
    id = RHU_ally_dorwinion
    icon = GFX_goal_rhu_dorwinion_flag
    x = 0
    y = 1
    relative_position_id = RHU_ally_harad
    prerequisite = { focus = RHU_ally_harad }
    ai_will_do = { factor = 25 }
    cost = 5
    available = {
        DOR = {
            has_government = belligerent
            is_puppet = no
        }
    }
    completion_reward = {
        DOR = {
            country_event = { id = rhun.7 }
        }
    }
}

focus = {
	id = RHU_honor_morgoth
	icon = GFX_goal_mor_servant_of_melkor_morgoth
	x = 2
	y = 1
	relative_position_id = RHU_join_the_dark_pact
	prerequisite = { focus = RHU_join_the_dark_pact }
	ai_will_do = { factor = 25 }
    available = {
        is_in_faction_with = MOR
    }
	cost = 10
	completion_reward = {
		add_ideas = MOR_servant_morgoth
	}
}

focus = {
    id = RHU_take_dorwinion
    icon = GFX_goal_mor_wargoal_dorwinion
    x = 2
    y = 1
    bypass	= {
        DOR = {
            OR = {
                is_puppet_of = RHU
                exists = no
            }
        }
    }
    relative_position_id = RHU_create_faction
    prerequisite = { focus = RHU_join_the_dark_pact focus = RHU_go_solo focus = RHU_create_faction }
    mutually_exclusive = { focus = RHU_ally_harad }
    ai_will_do = {
        base = 25
        modifier = {
            factor = -15
            has_war = yes
        }
    }
    cost = 10
    will_lead_to_war_with = DOR
    completion_reward = {
        create_wargoal = {
            type = annex_everything target = DOR
        }
    }
}

focus = {
    id = RHU_build_vineyards
    icon = GFX_goal_mor_grapes
    x = 0
    y = 1
    relative_position_id = RHU_take_dorwinion
    prerequisite = { focus = RHU_take_dorwinion }
    ai_will_do = { factor = 25 }
    available = {
        controls_state = 137
        controls_state = 103
    }
    cost = 10
    completion_reward = {
        137 = {
            add_resource = {
                type = oil
                amount = 10
            }
			add_extra_state_shared_building_slots = 2
			add_building_construction = { type = fuel_silo level = 2 instant_build = yes }
		}
        103 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = { type = fuel_silo level = 1 instant_build = yes }
		}
    }
}

focus = {
    id = RHU_expand_wine_trade
    icon = GFX_goal_generic_construction
    x = 0
    y = 1
    relative_position_id = RHU_build_vineyards
    prerequisite = { focus = RHU_build_vineyards }
    ai_will_do = { factor = 25 }
    available = {

    }
    cost = 10
    completion_reward = {
        add_ideas = DOR_wine_trade
    }
}

focus = {
    id = RHU_increase_supply
    icon = GFX_goal_generic_construct_infrastructure
	x = 0
	y = 2
	relative_position_id = RHU_ally_dorwinion
	prerequisite = { focus = RHU_ally_dorwinion focus = RHU_expand_wine_trade }
	available = {
        controls_state = 132
        controls_state = 124
	}
	ai_will_do = { factor = 25 }
	cost = 10
	completion_reward = {
        add_war_support = 0.10
        build_railway = {
			level = 2
			start_province = 6775
			target_province = 2099
		}
        build_railway = {
			level = 2
			start_province = 2099
			target_province = 1374
		}
		124 = {
			add_building_construction = {
				type = supply_node
				level = 1
				instant_build = yes
				province = 2099
			}
		}
        132 = {
            add_building_construction = {
                type = supply_node
                level = 1
                instant_build = yes
                province = 1374
            }
        }
	}
}

focus = {
    id = RHU_invaded_mordor
    icon = GFX_goal_rhu_wargoal_mordor
	x = 0
	y = 1
	relative_position_id = RHU_increase_supply
	prerequisite = { focus = RHU_increase_supply }
	available = {
		NOT = {
			is_in_faction_with = MOR
		}
	}
	ai_will_do = { factor = 25 }
	cost = 10
    will_lead_to_war_with = MOR
	completion_reward = {
        create_wargoal = {
            type = annex_everything target = MOR
        }
	}
}

focus = {
    id = RHU_our_search_for_iron
    icon = GFX_focus_generic_steel
    x = -2
    y = 1
    relative_position_id = RHU_create_faction
    prerequisite = { focus = RHU_join_the_dark_pact focus = RHU_go_solo focus = RHU_create_faction }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        125 = {
            add_resource = {
                type = steel
                amount = 7
            }
        }
    }
}

focus = {
    id = RHU_look_to_our_neighbours
    icon = GFX_goal_generic_construction2
    x = 0
    y = 1
    relative_position_id = RHU_our_search_for_iron
    prerequisite = { focus = RHU_our_search_for_iron }
    ai_will_do = {
        factor = 25
        modifier = {
            add = -25
            has_war = yes
        }
    }
    cost = 5
    available = {
        NOT = {
            has_war_with =  RHU
        }
        ERE = {
            controls_state = 93
        }
    }
    will_lead_to_war_with = ERE
    completion_reward = {
        ERE = {
            country_event = { id = erebor.3 }
        }
    }
}

focus = {
    id = RHU_lay_claim_on_the_iron
    icon = GFX_goal_mor_wargoal_erebor
    x = 0
    y = 1
    relative_position_id = RHU_look_to_our_neighbours
    prerequisite = { focus = RHU_look_to_our_neighbours }
    ai_will_do = { factor = 25 }
    available = {
        NOT = {
            has_global_flag = ERE_has_given_resources_rights
            has_war_with =  RHU
        }
        ERE = {
            controls_state = 93
        }
    }
    will_lead_to_war_with = ERE
    cost = 5
    completion_reward = {
        ERE = {
            country_event = { id = erebor.4 }
        }
    }
}

focus = {
    id = RHU_join_research_group
    icon = GFX_focus_research
    x = 0
    y = 1
    relative_position_id = RHU_join_the_dark_pact
    prerequisite = { focus = RHU_join_the_dark_pact }
    ai_will_do = { factor = 25 }
    available = {
        is_in_faction_with = MOR
    }
    cost = 10
    completion_reward = {
        add_to_tech_sharing_group = mordor_research
    }
}

focus = {
    id = RHU_ask_mordor_for_trolls
    icon = GFX_goal_mor_troll_warriors
    x = 0
    y = 1
    relative_position_id = RHU_join_research_group
    prerequisite = { focus = RHU_join_research_group }
    ai_will_do = { factor = 25 }
    available = {
        is_in_faction_with = MOR
        MOR = {
            has_tech = troll
        }
    }
    cost = 10
    completion_reward = {
        MOR = {
            country_event = { id = mordor.50 }
        }
    }
}

# democrate
focus = {
    id = RHU_follow_the_wizards
    icon = GFX_goal_rhu_the_blue_wizards
    mutually_exclusive = { focus = RHU_follow_the_dark_lord }
    x = 30
    y = 0
    cost = 10
    ai_will_do = {
        base = 0
        modifier = { factor = 0 is_going_cooperative = no }
    }
    offset = {
		x = -15
		y = 0
		trigger = {
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			has_completed_focus = RHU_follow_the_wizards
		}
	}
	allow_branch = {
        NOT = {
            has_completed_focus = RHU_follow_the_dark_lord
        }
    }
    completion_reward = {
        add_ideas = RHU_change_in_politics_1
        mark_focus_tree_layout_dirty = yes
    }
}

focus = {
    id = RHU_spread_the_word
    icon = GFX_focus_generic_support_the_left_right
    x = 0
    y = 1
    relative_position_id = RHU_follow_the_wizards
    prerequisite = { focus = RHU_follow_the_wizards }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        swap_ideas = {
			remove_idea = RHU_change_in_politics_1
			add_idea = RHU_change_in_politics_2
		}
        custom_effect_tooltip = RHU_unlock_support_decisions
    }
}


focus = {
    id = RHU_dale_support
    icon = GFX_goal_rhu_dale_flag
    x = -2
    y = 1
    relative_position_id = RHU_spread_the_word
    prerequisite = { focus = RHU_spread_the_word }
    ai_will_do = { factor = 25 }
    available = {
        DAL = {
            has_government = cooperative
        }
        RHU = {
            NOT = {
                has_government = cooperative
            }
        }
    }
    cost = 5
    completion_reward = {
        add_political_power = 75
        add_popularity = {
            ideology = cooperative
            popularity = 0.05
        }
    }
}

focus = {
    id = RHU_dorwinion_support
    icon = GFX_goal_rhu_dorwinion_flag
    x = 2
    y = 1
    relative_position_id = RHU_spread_the_word
    prerequisite = { focus = RHU_spread_the_word }
    ai_will_do = { factor = 25 }
    available = {
        DOR = {
            has_government = cooperative
        }
        RHU = {
            NOT = {
                has_government = cooperative
            }
        }
    }
    cost = 5
    completion_reward = {
        add_political_power = 75
        add_popularity = {
            ideology = cooperative
            popularity = 0.05
        }
    }
}

focus = {
    id = RHU_civil_war
    icon = GFX_goal_rhu_rhun_civil_war
    x = 0
    y = 1
    relative_position_id = RHU_spread_the_word
    prerequisite = { focus = RHU_spread_the_word }
    ai_will_do = { factor = 25 }
    cost = 10
    bypass = {
        has_government = cooperative
    }
    available = {
        custom_trigger_tooltip = {
            tooltip = RHU_requirement_start_civil_war
            check_variable = {
                RHU_count_states_civil_war > 3
            }
        }
    }
    completion_reward = {
        custom_effect_tooltip = RHU_warning_start_civil_war
        country_event = { id = rhun.5 }
        hidden_effect = {
            clear_variable = RHU_count_states_civil_war
        }
    }
}

focus = {
    id = RHU_dorwinion_support_civil_war
    icon = GFX_goal_generic_major_alliance
    x = 0
    y = 1
    relative_position_id = RHU_dorwinion_support
    prerequisite = { focus = RHU_dorwinion_support }
    ai_will_do = { factor = 25 }
    available = {
        has_civil_war = yes
        DOR = {
            has_government = cooperative
        }
    }
    cost = 10
    completion_reward = {
        DOR = {
            country_event = { id = dorwinion.1 }
        }
    }
}

focus = {
    id = RHU_see_the_light
    icon = GFX_goal_generic_demand_territory
    x = 0
    y = 1
    relative_position_id = RHU_civil_war
    prerequisite = { focus = RHU_civil_war }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        has_civil_war = no
    }
    completion_reward = {
        if = {
            limit = {
                has_template = "Dorwinion Volunteers Division"
            }
            delete_unit_template_and_units = { division_template = "Dorwinion Volunteers Division" }
        }
        if = {
            limit = {
                has_template = "Militia Division"
            }
            delete_unit_template_and_units = { division_template = "Militia Division" }
        }
        if = {
            limit = {
                has_template = "Free people of Harad Division"
            }
            delete_unit_template_and_units = { division_template = "Free people of Harad Division" }
        }
        swap_ideas = {
			remove_idea = RHU_change_in_politics_2
			add_idea = RHU_change_in_politics_3
		}
    }
}

focus = {
    id = RHU_rebuild_the_country
    icon = GFX_goal_generic_construction
    x = -2
    y = 1
    relative_position_id = RHU_see_the_light
    prerequisite = { focus = RHU_see_the_light }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        has_civil_war = no
    }
    completion_reward = {
        add_timed_idea = {
            idea = RHU_rebuild_the_country
            days = 360
        }
    }
}

focus = {
    id = RHU_learn_from_the_wizards
    icon = GFX_goal_rhu_the_blue_wizards
    x = 0
    y = 1
    relative_position_id = RHU_see_the_light
    prerequisite = { focus = RHU_see_the_light }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        swap_ideas = {
			remove_idea = RHU_change_in_politics_3
			add_idea = RHU_change_in_politics_4
		}
    }
}

focus = {
    id = RHU_create_defensive_pact
    icon = GFX_goal_generic_alliance
    x = 2
    y = 1
    relative_position_id = RHU_see_the_light
    prerequisite = { focus = RHU_see_the_light }
    mutually_exclusive = { focus = RHU_defend_freedom }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        create_faction = RHU_the_easter_defense_pact
        every_country = {
            limit = {
                has_government = cooperative
                is_neighbor_of = RHU
            }
            add_opinion_modifier = { target = RHU modifier = small_increase }
        }
    }
}

focus = {
    id = RHU_invite_dorwinion
    icon = GFX_focus_generic_treaty
    x = -2
    y = 1
    relative_position_id = RHU_create_defensive_pact
    prerequisite = { focus = RHU_create_defensive_pact }
    ai_will_do = { factor = 25 }
    cost = 5
    bypass = {
        OR = {
            is_puppet = yes
            exists = no
        }
    }
    available = {
        DOR = {
            OR = {
                has_government = cooperative
                has_government = unaligned
            }
            exists = yes
            is_puppet = no
        }
    }
    completion_reward = {
        DOR = {
            country_event = { id = rhun.4 }
        }
    }
}

focus = {
    id = RHU_invite_rohan
    icon = GFX_focus_generic_treaty
    x = 2
    y = 1
    relative_position_id = RHU_create_defensive_pact
    prerequisite = { focus = RHU_create_defensive_pact }
    ai_will_do = { factor = 25 }
    cost = 5
    bypass = {
        OR = {
            is_puppet = yes
            exists = no
        }
    }
    available = {
        ROH = {
            OR = {
                has_government = cooperative
                has_government = unaligned
            }
            exists = yes
            is_puppet = no
        }
    }
    completion_reward = {
        ROH = {
            country_event = { id = rhun.4 }
        }
    }
}

focus = {
    id = RHU_invite_erebor
    icon = GFX_focus_generic_treaty
    x = 0
    y = 1
    relative_position_id = RHU_create_defensive_pact
    prerequisite = { focus = RHU_create_defensive_pact }
    ai_will_do = { factor = 25 }
    cost = 5
    bypass = {
        ERE = {
            OR = {
                has_government = belligerent
                has_government = revolutionary
                is_puppet = yes
                exists = no
            }
        }
    }
    available = {
        ERE = {
            OR = {
                has_government = cooperative
                has_government = unaligned
            }
            exists = yes
            is_puppet = no
        }
    }
    completion_reward = {
        ERE = {
            country_event = { id = rhun.4 }
        }
    }
}

focus = {
    id = RHU_invite_dale
    icon = GFX_focus_generic_treaty
    x = 0
    y = 1
    relative_position_id = RHU_invite_erebor
    prerequisite = { focus = RHU_invite_erebor }
    ai_will_do = { factor = 25 }
    cost = 5
    bypass = {
        DAL = {
            OR = {
                has_government = belligerent
                has_government = revolutionary
                is_puppet = yes
                exists = no
            }
        }
    }
    available = {
        DAL = {
            OR = {
                has_government = cooperative
                has_government = unaligned
            }
            is_puppet = no
            exists = yes
        }
    }
    completion_reward = {
        DAL = {
            country_event = { id = rhun.4 }
        }
    }
}

focus = {
    id = RHU_learn_from_our_allies
    icon = GFX_focus_research
    x = 0
    y = 1
    relative_position_id = RHU_invite_dale
    prerequisite = { focus = RHU_invite_dale }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        add_research_slot = 1
    }
}

focus = {
    id = RHU_together_we_stand_strong
    icon = GFX_focus_generic_support_the_left_right
    x = -2
    y = 1
    relative_position_id = RHU_invite_dale
    prerequisite = { focus = RHU_invite_dale }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        add_ideas = RHU_defend_our_lands
    }
}

focus = {
    id = RHU_strengthen_the_borders_south_rhun
    icon = GFX_goal_generic_fortify_city
    x = 2
    y = 1
    relative_position_id = RHU_invite_dale
    prerequisite = { focus = RHU_invite_dale }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 104
    }
    completion_reward = {
        104 = {
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 6777 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 1979 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 6726 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 3116 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 5130 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 6661 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 3709 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 4370 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 3138 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 6559 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 1224 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 4865 }
        }
    }
}

focus = {
    id = RHU_strengthen_the_borders_east_gathod
    icon = GFX_goal_generic_fortify_city
    x = 0
    y = 1
    relative_position_id = RHU_strengthen_the_borders_south_rhun
    prerequisite = { focus = RHU_strengthen_the_borders_south_rhun }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 132
    }
    completion_reward = {

        132 = {
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 3741 }
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 252 }
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 1466 }
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 2930 }
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 2426 }
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 6890 }
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 386 }
        }
    }
}

focus = {
    id = RHU_strengthen_the_borders_lithlad_rhun
    icon = GFX_goal_generic_fortify_city
    x = 0
    y = 1
    relative_position_id = RHU_strengthen_the_borders_east_gathod
    prerequisite = { focus = RHU_strengthen_the_borders_east_gathod }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        controls_state = 124
    }
    completion_reward = {
        124 = {
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 6775 }
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 2099 }
            add_building_construction = {	type = bunker level = 3 instant_build = yes province = 1762 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 631 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 1885 }
            add_building_construction = {   type = bunker level = 3 instant_build = yes province = 5411 }
        }
    }
}

focus = {
    id = RHU_invite_to_all
    icon = GFX_focus_generic_treaty
    x = 0
    y = 1
    relative_position_id = RHU_learn_from_our_allies
    prerequisite = { focus = RHU_learn_from_our_allies }
    prerequisite = { focus = RHU_together_we_stand_strong }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        every_country = {
            limit = {
                OR = {
                    has_government = cooperative
                    has_government = unaligned
                }
                NOT = {
                    is_in_faction_with = RHU
                }
                NOT = {
                    original_tag = RHU
                }
            }
            PREV = {
                country_event = { id = rhun.4 }
            }
        }
    }
}

focus = {
    id = RHU_preempty_the_threat
    icon = GFX_goal_rhu_wargoal_mordor
    x = 0
    y = 1
    relative_position_id = RHU_invite_to_all
    prerequisite = { focus = RHU_invite_to_all }
    will_lead_to_war_with = MOR
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        MOR = {
            OR = {
                has_government = belligerent
                has_government = revolutionary
            }
        }
    }
    will_lead_to_war_with = MOR
    completion_reward = {
        create_wargoal = {
            type = annex_everything target = MOR
        }
    }
}

focus = {
    id = RHU_mordor_defeated
    icon = GFX_focus_generic_strike_at_democracy1
    x = 0
    y = 1
    relative_position_id = RHU_preempty_the_threat
    prerequisite = { focus = RHU_preempty_the_threat focus = RHU_attack_mordor }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        MOR = {
            OR = {
                exists = no
                is_puppet = yes
                has_government = cooperative
            }
        }
    }
    completion_reward = {
       add_ideas = RHU_great_evil_defeated
    }
}

#########
# Defend freedom
#########
focus = {
    id = RHU_defend_freedom
    icon = GFX_goal_lth_defense_guardians
    x = 8
    y = 1
    relative_position_id = RHU_see_the_light
    prerequisite = { focus = RHU_see_the_light }
    mutually_exclusive = { focus = RHU_create_defensive_pact }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        add_war_support = 0.10
        add_political_power = 100
    }
}

focus = {
    id = RHU_guarantee_the_east
    icon = GFX_focus_generic_treaty
    x = 0
    y = 1
    relative_position_id = RHU_defend_freedom
    prerequisite = { focus = RHU_defend_freedom }
    ai_will_do = { factor = 25 }
    cost = 5
    completion_reward = {
        if = {
            limit = {
                DOR = {
                    NOT = {
                        has_government = belligerent
                    }
                }
            }
            give_guarantee = DOR
            DOR = {
                add_opinion_modifier = { target = RHU modifier = small_increase }
            }
        }
        if = {
            limit = {
                HAR = {
                    NOT = {
                        has_government = belligerent
                    }
                }
            }
            give_guarantee = HAR
            HAR = {
                add_opinion_modifier = { target = RHU modifier = small_increase }
            }
        }
    }
}

focus = {
    id = RHU_attack_is_the_best_defense
    icon = GFX_goal_generic_military_sphere
    x = 0
    y = 1
    relative_position_id = RHU_guarantee_the_east
    prerequisite = { focus = RHU_guarantee_the_east focus = RHU_guarantee_the_north focus = RHU_guarantee_the_west}
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        add_ideas = RHU_attack_is_best_defense
    }
}


focus = {
    id = RHU_guarantee_the_north
    icon = GFX_focus_generic_treaty
    x = 2
    y = 1
    relative_position_id = RHU_defend_freedom
    prerequisite = { focus = RHU_defend_freedom }
    ai_will_do = { factor = 25 }
    cost = 5
    completion_reward = {
        if = {
            limit = {
                ERE = {
                    NOT = {
                        OR = {
                            has_government = belligerent
                            has_government = revolutionary
                        }
                    }
                }
            }
            give_guarantee = ERE
            ERE = {
                add_opinion_modifier = { target = RHU modifier = small_increase }
            }
        }
        if = {
            limit = {
                DAL = {
                    NOT = {
                        has_government = belligerent
                    }
                }
            }
            give_guarantee = DAL
            DAL = {
                add_opinion_modifier = { target = RHU modifier = small_increase }
            }
        }
    }
}

focus = {
    id = RHU_guarantee_the_west
    icon = GFX_focus_generic_treaty
    x = 4
    y = 1
    relative_position_id = RHU_defend_freedom
    prerequisite = { focus = RHU_defend_freedom }
    bypass = {
        GON = {
            NOT = {
                has_government = cooperative
                has_government = unaligned
            }
        }
        ROH = {
            NOT = {
                has_government = cooperative
                has_government = unaligned
            }
        }
    }
    ai_will_do = { factor = 25 }
    cost = 5
    completion_reward = {
        if = {
            limit = {
                GON = {
                    NOT = {
                        OR = {
                            has_government = belligerent
                            has_government = revolutionary
                        }
                    }
                }
            }
            give_guarantee = GON
            GON = {
                add_opinion_modifier = { target = RHU modifier = small_increase }
            }
        }
        if = {
            limit = {
                ROH = {
                    NOT = {
                        OR = {
                            has_government = belligerent
                            has_government = revolutionary
                        }
                    }
                }
            }
            give_guarantee = ROH
            ROH = {
                add_opinion_modifier = { target = RHU modifier = small_increase }
            }
        }
    }
}

focus = {
    id = RHU_add_research_slot
    icon = GFX_focus_research
    x = 2
    y = 1
    relative_position_id = RHU_guarantee_the_north
    prerequisite = { focus = RHU_guarantee_the_east focus = RHU_guarantee_the_north focus = RHU_guarantee_the_west}
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        add_research_slot = 1
    }
}


focus = {
    id = RHU_invest_in_railways
    icon = GFX_goal_generic_infrastructure_investment
    x = 0
    y = 1
    relative_position_id = RHU_guarantee_the_north
    prerequisite = { focus = RHU_guarantee_the_north }
    prerequisite = { focus = RHU_guarantee_the_east }
    prerequisite = { focus = RHU_guarantee_the_west }
	available = {
        controls_state = 132
        controls_state = 104
        controls_state = 124
	}
	ai_will_do = { factor = 25 }
	cost = 10
	completion_reward = {
        build_railway = {
			level = 2
			start_province = 6599
			target_province = 2709
		}
        build_railway = {
            level = 2
            start_province = 2709
            target_province = 2099
        }
        build_railway = {
			level = 2
			start_province = 4245
			target_province = 6599
		}
        build_railway = {
            level = 2
            start_province = 1635
            target_province = 1374
        }
		104 = {
			add_building_construction = {
				type = supply_node
				level = 1
				instant_build = yes
				province = 1979
			}
		}
        132 = {
            add_building_construction = {
                type = supply_node
                level = 1
                instant_build = yes
                province = 1374
            }
        }
    }
}

focus = {
    id = RHU_militair_infra
    icon = GFX_goal_generic_infrastructure_investment
    x = 0
    y = 1
    relative_position_id = RHU_invest_in_railways
    prerequisite = { focus = RHU_invest_in_railways }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        add_ideas = RHU_militair_supply_system
    }
}

focus = {
    id = RHU_attack_mordor
    icon = GFX_goal_rhu_wargoal_mordor
    x = 0
    y = 2
    bypass = {
        MOR = {
            exists = no
        }
    }
    relative_position_id = RHU_militair_infra
    prerequisite = { focus = RHU_militair_infra }
    ai_will_do = { factor = 25 }
    cost = 10
    available = {
        MOR = {
            exists = yes
        }
    }
    will_lead_to_war_with = MOR
    completion_reward = {
        create_wargoal = {
            type = puppet_wargoal_focus  target = MOR
        }
    }
}

focus = {
    id = RHU_defeat_belligerente
    icon = GFX_goal_mor_tower_of_barad_dur
    x = 0
    y = 1
    relative_position_id = RHU_attack_mordor
    prerequisite = { focus = RHU_attack_mordor }
    ai_will_do = { factor = 25 }
    cost = 10
    completion_reward = {
        every_other_country = {
            limit = {
                has_government = belligerent
                NOT = {
                    original_tag = RHU
                }
            }
            RHU = {
                create_wargoal = {
                    type = puppet_wargoal_focus  
                    target = PREV
                }
            }
        }
    }
}
}