#!gfx:interface\auto_generated\lotr_goals.gfx

focus_tree = {
	id = rohan
	country = {
		factor=0
		modifier = {
			add = 10
			tag = ROH
		}
	}

	default = no

	continuous_focus_position = { x = 2850 y = 1500 }

	focus = {
		id = ROH_the_fate_of_rohan
		icon = GFX_goal_goal_generic_CAS
		available = { }
		ai_will_do = { factor = 100 }
		x =0
		y =0
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			
		}
	}

	focus = {
		id = ROH_southern_iron_mines
		icon = GFX_goal_generic_mining_industry
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_the_fate_of_rohan }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				GON = { is_ai = no }
			}
			modifier = {
				factor = 0.6
				is_going_cooperative = no
			}
			modifier = {
				add = 25
				has_country_flag = gameplan_oath_of_eorl
				NOT = { has_completed_focus = ROH_scout_out_mountain_passes }
			}
		}
		x =2
		y =1
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# Build Steel mines in white mountains or something
			217 = {
				add_resource = {
					type = steel
					amount = 40
				}
			}
		}
	}

	focus = {
		id = ROH_scout_out_mountain_passes
		icon = GFX_goal_pass_road_through_mountains
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_the_fate_of_rohan }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				GON = { is_ai = no }
			}
			modifier = {
				factor = 0.6
				is_going_cooperative = no
			}
			modifier = {
				add = 25
				has_country_flag = gameplan_oath_of_eorl
				NOT = { has_completed_focus = ROH_southern_iron_mines }
			}
		}
		x =4
		y =1
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# Scout out narrow mountain passes
			217 = {
				add_manpower = 15000
			}
		}
	}

	focus = {
		id = ROH_reaffirm_the_oath_of_eorl
		icon = GFX_goal_ROH_oath_of_eorl_theoden_denethor_gondor_rohan
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_scout_out_mountain_passes focus = ROH_southern_iron_mines }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				GON = { is_ai = no }
			}
			modifier = {
				factor = 0.2
				is_going_cooperative = no
			}
			modifier = {
				add = 25
				has_country_flag = gameplan_oath_of_eorl
			}
		}
		x =3
		y =2
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			unlock_decision_tooltip = Light_the_beacon
			# re-affirm oath of eorl
			GON = {
				add_opinion_modifier = {
					target = ROH
					modifier = small_increase
				}
			}
			ROH = {
				add_opinion_modifier = {
					target = ROH
					modifier = small_increase
				}
			}
		}
	}

	focus = {
		id = ROH_path_of_tradition
		icon = GFX_goal_ROH_path_of_tradition_scale_balance
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_the_fate_of_rohan }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 15
			modifier = {
				factor = 1.5
				is_going_cooperative = yes
			}
			modifier = {
				factor = 0.5
				is_going_belligerent = yes
			}
		}
		x =-1
		y =2
		mutually_exclusive = { focus = ROH_path_of_reform }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# some generic tradition stuff
			add_stability = 0.1
		}
	}

	focus = {
		id = ROH_wisdom_and_introspection
		icon = GFX_goal_ROH_wisdom_and_introspection_book
		relative_position_id = ROH_path_of_tradition
		prerequisite = { focus = ROH_path_of_tradition }
		available = {
			rohan_has_bop = no
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = {
			factor = 30
			modifier = {
				factor = 2
				is_going_cooperative = yes
			}
			modifier = {
				factor = 0.5
				is_going_belligerent = yes
			}
		}
		x =0
		y =1
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# Remove restriction on Knowledge and statecraft tree
			custom_effect_tooltip = ROH_path_of_tradition2_tt
		}
	}

	focus = {
		id = ROH_unyielding_culture
		icon = GFX_goal_ROH_unyielding_culture_resistance
		relative_position_id = ROH_path_of_tradition
		prerequisite = { focus = ROH_wisdom_and_introspection }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 1.5
				is_going_cooperative = yes
			}
			modifier = {
				factor = 0.5
				is_going_belligerent = yes
			}
		}
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			add_war_support = 0.05
			add_stability = 0.05
		}
	}

	focus = {
		id = ROH_path_of_reform
		icon = GFX_goal_ROH_path_of_reform_political_change
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_the_fate_of_rohan }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				is_going_belligerent = yes
			}
			modifier = {
				factor = 0.5
				is_going_cooperative = yes
			}
		}
		x =1
		y =2
		mutually_exclusive = { focus = ROH_path_of_tradition }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# some generic reformist stuff
			add_political_power = 120
		}
	}

	focus = {
		id = ROH_new_governorship
		icon = GFX_goal_ROH_new_governorship_change
		relative_position_id = ROH_path_of_reform
		prerequisite = { focus = ROH_path_of_reform }
		available = {
			rohan_has_bop = no
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 30
			modifier = {
				factor = 1.5
				is_going_belligerent = yes
			}
			modifier = {
				factor = 0.5
				is_going_cooperative = yes
			}
		}
		x =0
		y =1
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			custom_effect_tooltip = ROH_path_of_reform2_tt
			# remove time-restriction and cooldown from "Deal with Region" focuses
		}
	}

	focus = {
		id = ROH_shift_in_the_wind
		icon = GFX_goal_ROH_shift_in_the_wind_torn_paper
		relative_position_id = ROH_path_of_reform
		prerequisite = { focus = ROH_new_governorship }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 1.5
				is_going_belligerent = yes
			}
			modifier = {
				factor = 0.5
				is_going_cooperative = yes
			}
		}
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			custom_effect_tooltip = ROH_shift_in_the_wind_tt
			hidden_effect = {
				army_experience = var:party_popularity_100@ruling_party
				add_political_power = var:party_popularity_100@ruling_party	
			}
		}
	}

	focus = {
		id = ROH_eastern_luberyards
		icon = GFX_goal_generic_resource_wood
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_the_fate_of_rohan }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 3
				chromium < 10
			}
			modifier = {
				add = mtth:rohan_lords_region_2_importance
			}
		}
		x =-2
		y =1
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# Build Lumberyards in east or something
			27 = {
				add_resource = {
					type = chromium
					amount = 25
				}
			}
		}
	}

	focus = {
		id = ROH_future_proofing
		icon = GFX_goal_ROH_future_proofing_sandglass_shield
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_the_fate_of_rohan }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = { factor = 20 }
		x =-4
		y =1
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			183 = {
				set_state_category = megalopolis
			}
			184 = {
				set_state_category = large_city
			}
		}
	}

	focus = {
		id = ROH_civilian_factory_focus
		icon = GFX_goal_generic_windmill
		relative_position_id = ROH_future_proofing
		prerequisite = { focus = ROH_future_proofing }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = { factor = 35 }
		x =-1
		y =1
		mutually_exclusive = { focus = ROH_military_factory_focus }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# focuses that give civs give more
			custom_effect_tooltip = ROH_civilian_factory_focus_tt
		}
	}

	focus = {
		id = ROH_technological_coherence
		icon = GFX_goal_ROH_technological_coherence_research_flask_vial
		relative_position_id = ROH_future_proofing
		prerequisite = { focus = ROH_civilian_factory_focus focus = ROH_military_factory_focus }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = { factor = 35 }
		x =-1
		y =2
		mutually_exclusive = { focus = ROH_technological_edge }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			custom_effect_tooltip = ROH_technological_coherence_tt
			# focuses that give tech boost, give a better boost
		}
	}

	focus = {
		id = ROH_military_factory_focus
		icon = GFX_goal_generic_anvil
		relative_position_id = ROH_future_proofing
		prerequisite = { focus = ROH_future_proofing }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = { factor = 35 }
		x =1
		y =1
		mutually_exclusive = { focus = ROH_civilian_factory_focus }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# focuses that give mils give more
			custom_effect_tooltip = ROH_military_factory_focus_tt
		}
	}

	focus = {
		id = ROH_technological_edge
		icon = GFX_goal_ROH_technological_edge_research_flask_vial
		relative_position_id = ROH_future_proofing
		prerequisite = { focus = ROH_military_factory_focus focus = ROH_civilian_factory_focus }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = { factor = 20 }
		x =1
		y =2
		mutually_exclusive = { focus = ROH_technological_coherence }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			custom_effect_tooltip = ROH_technological_edge_tt
			# focuses that givve a tech boost also give ahead-of-time reduction
		}
	}

	focus = {
		id = ROH_construct_knowledge_repositories
		icon = GFX_goal_ROH_construct_knowledge_repositories_library_books
		relative_position_id = ROH_future_proofing
		prerequisite = { focus = ROH_technological_edge focus = ROH_technological_coherence }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 25
			modifier = {
				factor = 3
				date < "3018.6.1"
			}
			modifier = {
				factor = 2
				date > "3020.1.1"
			}
		}
		x =0
		y =3
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# Add idea that uses civs, after X years it is removed and gives a research slot
			add_timed_idea = {
				idea = ROH_future_proofing
				days = 365
			}
		}
	}

	focus = {
		id = ROH_southbound_roads
		icon = GFX_goal_ROH_expanded_trade_network_infra_wagon
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_the_fate_of_rohan }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = { factor = 15 }
		x =6
		y =1
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# infra
			183 = {
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			184 = {
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
		}
	}

	focus = {
		id = ROH_restore_dunharrow
		icon = GFX_goal_ROH_restore_dunharrow_fortress_castle_on_mountain
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_southbound_roads focus = ROH_scout_out_mountain_passes }
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 15
			modifier = {
				factor = 3
				is_going_cooperative = yes
			}
			modifier = {
				factor = 2
				OR = { 
					ISE = { is_going_belligerent = yes }
					ISE = { has_government = belligerent }
				}
			}
		}
		x =5
		y =2
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			custom_effect_tooltip = ROH_restore_dunharrow_tt
			# Restore Dunharrow
			183 = {
				add_building_construction = {
					type = castle
					level = 2
					province = 9063
				}

				add_victory_points = {
					province = 9063
					value = 15
				}

				add_province_modifier = {
					static_modifiers = { secret_mountain_passes }
					province = { id = 9063 }
				}
			}
		}
	}

	focus = {
		id = ROH_restore_dunharrow_forges
		icon = GFX_goal_ROH_restore_dunharrow_forges_anvil_mils_hammer
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_restore_dunharrow}
		available = {
			rohan_has_bop = no
		}
		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				threat > 0.1
			}
		}
		x =5
		y =4
		mutually_exclusive = { }
		cost = 5
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# add factories
			183 = {
				add_building_slot_and_mil_x2 = yes
			}
			if = {
				limit = { has_completed_focus = ROH_military_factory_focus }
				183 = {
					add_building_slot_and_mil = yes
				}
			}
		}
	}

	focus = {
		id = ROH_accept_grima
		icon = GFX_goal_ROH_accept_grima
		relative_position_id = ROH_the_fate_of_rohan
		prerequisite = { focus = ROH_the_fate_of_rohan }
		available = {
			autocompleted_on_event = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		ai_will_do = { factor = 100 }
		x =0
		y =5
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# This gets autocompleted when the event is fired. Focus doesn't actually do anything
			# Add grima as chief advisor, not fireable
			
			effect_tooltip = {
				event_option_tooltip = rohan.1.a
			}
		}
	}

	focus = {
		id = ROH_corrupt_the_court
		icon = GFX_goal_ROH_currpution_bribes_aristocracy
		relative_position_id = ROH_accept_grima
		prerequisite = { focus = ROH_accept_grima }
		available = { rohan_has_bop = yes }
		cancel_if_invalid = no
		continue_if_invalid = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_GRIMA }
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 5
				is_going_belligerent = yes
			}
			modifier = {
				factor = 2
				rohan_has_low_sanity = yes
				is_going_belligerent = yes
			}
			modifier = {
				factor = 3
				has_country_flag = fs_hostile_attitude
			}
		}
		x =10
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			grima_hire_small_council_advisor = yes

			unlock_decision_tooltip = ROH_bop_bribe_court_officials
		}
	}

	focus = {
		id = ROH_restructure_the_military
		icon = GFX_goal_ROH_armored_soldiers_trio
		relative_position_id = ROH_corrupt_the_court
		prerequisite = { focus = ROH_corrupt_the_court }
		available = { rohan_has_bop = yes rohan_has_low_corruption = yes }
		cancel_if_invalid = no
		continue_if_invalid = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_GRIMA }
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 3
				is_going_belligerent = yes
			}
			modifier = {
				factor = 3
				has_country_flag = fs_hostile_attitude
			}
			modifier = {
				factor = 0.25
				is_going_cooperative = yes
			}
		}
		x =0
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			grima_hire_war_council_advisor = yes

			# every grima sympaziser gets extra army capacity, the others less.
			custom_effect_tooltip = every_eorl_loyalist_tt
			every_unit_leader = {
				limit = { has_trait = wormtongue_sympathizer }
				add_trait = {
					trait = roh_influential
				}
			}
			custom_effect_tooltip = every_grima_symphaziser_tt
			every_unit_leader = {
				limit = { OR = { has_trait = eorl_loyalist has_trait = eorl_loyalist_p } }
				add_trait = {
					trait = roh_uninfluential
				}
			}
		}
	}

	focus = {
		id = ROH_spy_on_the_elves
		icon = GFX_goal_ROH_spy_on_the_elves_elrond_espionage
		relative_position_id = ROH_corrupt_the_court
		prerequisite = { focus = ROH_restructure_the_military }
		available = { NOT = { has_government = cooperative } NOT = { has_completed_focus = ROH_let_gandalf_in } }
		search_filters = { FOCUS_FILTER_RING }
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 3
				has_country_flag = fs_hostile_attitude
			}
			modifier = {
				factor = 5
				is_going_belligerent = yes
			}
		}
		x =1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# give intel on Loth, Riv and Mir
			LTH = {
				give_intel_on_country = yes
			}
			RIV = {
				give_intel_on_country = yes
			}
			MIR = {
				give_intel_on_country = yes
			}
		}
	}

	focus = {
		id = ROH_prepare_a_ring_interception
		icon = GFX_goal_the_one_ring
		relative_position_id = ROH_spy_on_the_elves
		prerequisite = { focus = ROH_spy_on_the_elves }
		available = {
			NOT = { has_country_flag = fs_interceptions_disabled }
			NOT = { has_completed_focus = ROH_let_gandalf_in }
			NOT = { ring_has_been_seized = yes }
		}
		search_filters = { FOCUS_FILTER_RING }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				has_country_flag = fs_hostile_attitude
			}
			modifier = {
				factor = 2
				is_going_belligerent = yes
			}
			modifier = {
				factor = 0.1
				date > "3022.1.1"
			}
			modifier = {
				factor = 1.5
				date < "3021.1.1"
			}
		}
		x =0
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			custom_effect_tooltip = ring_unlock_interceptions
			# Taken care of automatically
		}
	}

	focus = {
		id = ROH_track_the_fellowship
		icon = GFX_goal_ROH_track_the_fellowship_frodo
		relative_position_id = ROH_spy_on_the_elves
		prerequisite = { focus = ROH_prepare_a_ring_interception }
		available = {
			NOT = { has_country_flag = fs_interceptions_disabled }
			NOT = { has_completed_focus = ROH_let_gandalf_in }
			NOT = { ring_has_been_seized = yes }
		}
		search_filters = { FOCUS_FILTER_RING }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				has_country_flag = fs_hostile_attitude
			}
			modifier = {
				factor = 2
				is_going_belligerent = yes
			}
			modifier = {
				factor = 0.1
				date > "3022.1.1"
			}
			modifier = {
				factor = 1.5
				date < "3021.1.1"
			}
		}
		x =1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# removes the possibility of the fellowship not being detected
			ring_disable_stealth_check = yes
		}
	}

	focus = {
		id = ROH_find_an_ambush_site
		icon = GFX_goal_generic_large_knife
		relative_position_id = ROH_spy_on_the_elves
		prerequisite = { focus = ROH_prepare_a_ring_interception }
		available = {
			NOT = { has_country_flag = fs_interceptions_disabled }
			NOT = { has_completed_focus = ROH_let_gandalf_in }
			NOT = { ring_has_been_seized = yes }
		}
		search_filters = { FOCUS_FILTER_RING }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				has_country_flag = fs_hostile_attitude
			}
			modifier = {
				factor = 2
				is_going_belligerent = yes
			}
			modifier = {
				factor = 0.1
				date > "3022.1.1"
			}
			modifier = {
				factor = 1.5
				date < "3021.1.1"
			}
		}
		x =-1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# increase the amount of attacks our hunting party gets to do
			ring_get_extra_2_attacks = yes
		}
	}

	focus = {
		id = ROH_coordinate_with_isengard
		icon = GFX_goal_lth_uruk_hai_orc
		relative_position_id = ROH_spy_on_the_elves
		available = {
			NOT = { has_country_flag = fs_interceptions_disabled }
			NOT = { has_government = cooperative }
			NOT = { has_completed_focus = ROH_let_gandalf_in }
			NOT = { has_completed_focus = ROH_purge_the_rot }
			NOT = { ring_has_been_seized = yes }
			NOT = { has_global_flag = fs_fellowship_breakup }
			ISE = {
				NOT = { has_war_with = ROOT }
				has_government = belligerent
			}
		}
		search_filters = { FOCUS_FILTER_RING }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 5
				is_going_belligerent = yes
			}
			modifier = {
				factor = 0
				ise_is_evil = no
			}
		}
		prerequisite = {
			focus = ROH_find_an_ambush_site
			focus = ROH_track_the_fellowship
		}
		x =0
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# Allows us to add extra members to Isengards interception attempt at argonath
			custom_effect_tooltip = ROH_coordinate_with_isengard_tt
		}
	}

	focus = {
		id = ROH_propaganda_of_fear
		icon = GFX_goal_ROH_propaganda_of_fear_sauron_eye_visions
		relative_position_id = ROH_corrupt_the_court
		prerequisite = { focus = ROH_restructure_the_military }
		prerequisite = { focus = ROH_get_rid_of_theodred }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_GRIMA }
		available = { threat > 0.2 }
		ai_will_do = {
			factor = 8
			modifier = {
				factor = 2
				is_going_belligerent = yes
			}
			modifier = {
				factor = 2
				rohan_has_bop = no
			}
		}
		x =-1
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			if = {
				limit = { rohan_has_bop = yes }
				roh_add_intermediate_grima_drift = yes
			}
			# national spirit
			add_ideas = ROH_fear_propaganda
		}
	}

	focus = {
		id = ROH_isolate_the_king
		icon = GFX_goal_ROH_king_theoden_old
		relative_position_id = ROH_accept_grima
		prerequisite = { focus = ROH_accept_grima }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_GRIMA }
		available = {
			rohan_has_bop = yes
			has_country_leader_with_trait = afflicted
		}
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 8
				is_going_belligerent = yes
			}
			modifier = {
				factor = 10
				is_going_belligerent = yes
				date > "3019.6.1"
			}
			modifier = {
				factor = 2
				rohan_has_low_sanity = yes
				is_going_belligerent = yes
			}
		}
		x =7
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# add negative trait to Theoden
			swap_ruler_traits = {
				remove = afflicted
				add = isolated_and_paranoid
			}
			roh_add_intermediate_grima_drift = yes
			unlock_decision_tooltip = ROH_bop_backroom_assassinations
		}
	}

	focus = {
		id = ROH_get_rid_of_theodred
		icon = GFX_goal_ROH_get_rid_of_theodred
		relative_position_id = ROH_isolate_the_king
		prerequisite = { focus = ROH_isolate_the_king }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_GRIMA }
		available = {
			rohan_has_bop = yes
			rohan_has_high_corruption = yes
			belligerent > 0.3
			ROH_theodred = {
				is_unit_leader = yes
			}
		}
		bypass = {
			NOT = {
				ROH_theodred = {
					is_unit_leader = yes
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 50
				is_going_belligerent = yes
			}
		}
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# Get rid of Theodred
			# event to get rid of theodred, adds a bunch of bad stuff.
			# gets skipped if theodred dies to isengards thing
			country_event = rohan.11
		}
	}

	focus = {
		id = ROH_get_rid_of_eomer
		icon = GFX_goal_ROH_get_rid_of_eomer
		relative_position_id = ROH_isolate_the_king
		prerequisite = { focus = ROH_isolate_the_king }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_GRIMA }
		available = {
			rohan_has_bop = yes
			rohan_has_mid_corruption = yes
			belligerent > 0.25
			ROH_eomer = {
				is_unit_leader = yes
			}
		}
		bypass = {
			ROH_eomer = {
				is_unit_leader = no
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 50
				is_going_belligerent = yes
			}
		}
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# Get rid Eomer
			# Choose exile or death. Gets rid of Eomer
			country_event = rohan.12
		}
	}

	focus = {
		id = ROH_wormtongue_cabinet
		icon = GFX_goal_ROH_wormtongue_cabinet_evil_council
		relative_position_id = ROH_isolate_the_king
		prerequisite = { focus = ROH_get_rid_of_eomer }
		prerequisite = { focus = ROH_get_rid_of_theodred }
		mutually_exclusive = { focus = ROH_purge_the_rot focus = ROH_let_gandalf_in focus = ROH_deny_gandalf_entrance }
		available = { date > "3020.6.1" rohan_has_bop = yes rohan_has_very_high_corruption = yes belligerent > 0.35 }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_GRIMA FOCUS_FILTER_BELLIGERENT }
		cancel_if_invalid = no
		continue_if_invalid = yes
		ai_will_do = {
			factor = 25
			modifier = {
				factor = 10
				is_going_belligerent = yes
				date > "3019.6.1"
			}
			modifier = {
				factor = 0
				is_going_belligerent = no
			}
			modifier = {
				add = 1
				date > "3021.1.1"
			}
		}
		x =0
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# national spirit
			add_ideas = ROH_wormtongue_cabinet
			roh_end_bop_struggle = yes

			# permanently remove certain advisors and generals
			ROH_gamling = { lotr_retire_character = yes }
			ROH_grimbold = { lotr_retire_character = yes }
			ROH_erkenbrand = { lotr_retire_character = yes }
		}
	}

	focus = {
		id = ROH_maintain_stability
		icon = GFX_goal_ROH_maintain_stability_scales_equality
		relative_position_id = ROH_accept_grima
		prerequisite = { focus = ROH_accept_grima }
		available = { rohan_has_bop = yes }
		cancel_if_invalid = no
		continue_if_invalid = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN }
		ai_will_do = {
			factor = 7
			modifier = {
				factor = 2
				is_going_cooperative = yes
			}
			modifier = {
				factor = 2
				is_going_cooperative = yes
				date > "3019.1.1"
			}
			modifier = {
				factor = 10
				is_going_cooperative = yes
				date > "3020.1.1"
			}
		}
		x =-6
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			unlock_decision_tooltip = ROH_bop_conduct_public_assemblies

			# add stability
			add_stability = 0.1

			roh_add_minor_theoden_drift = yes
		}
	}

	focus = {
		id = ROH_power_to_provincial_governors
		icon = GFX_goal_lth_territorial_integration
		relative_position_id = ROH_maintain_stability
		prerequisite = { focus = ROH_maintain_stability }
		available = { rohan_has_bop = yes rohan_has_low_sanity = yes }
		cancel_if_invalid = no
		continue_if_invalid = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 4
				is_going_cooperative = yes
			}
			modifier = {
				factor = 4
				is_going_cooperative = yes
				date > "3021.1.1"
			}
			modifier = {
				factor = 2
				rohan_has_low_corruption = yes
				is_going_cooperative = yes
			}
			modifier = {
				factor = 3
				check_variable = { realm_cohesion_drift < 0 }
			}
		}
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {			
			decrease_centralization = yes

			roh_add_intermediate_theoden_drift = yes

			unlock_decision_tooltip = ROH_bop_form_secret_resistance_movement
		}
	}

	focus = {
		id = ROH_enact_tax_cuts
		icon = GFX_goal_ROH_enact_tax_cuts_money
		relative_position_id = ROH_maintain_stability
		prerequisite = { focus = ROH_maintain_stability }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN }
		available = { rohan_has_bop = yes }
		cancel_if_invalid = no
		continue_if_invalid = yes
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 30
				is_going_cooperative = yes
				rohan_has_low_corruption = yes
			}
			modifier = {
				factor = 30
				is_going_cooperative = yes
				date > "3021.1.1"
			}
		}
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# Can't really make a militarisitc tyranny without money, can we? lol
			# lower taxes, disable increasing taxes for some time
			disallow_medium_and_low_taxes_1y = yes

			roh_add_intermediate_theoden_drift = yes
		}
	}

	focus = {
		id = ROH_defensive_measures
		icon = GFX_goal_goal_generic_defence
		relative_position_id = ROH_accept_grima
		prerequisite = { focus = ROH_accept_grima }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN }
		available = { rohan_has_bop = yes }
		cancel_if_invalid = no
		continue_if_invalid = yes
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				threat > 0.1
			}
			modifier = {
				factor = 5
				is_going_cooperative = yes
			}
			modifier = {
				factor = 5
				is_going_cooperative = yes
				date > "3020.1.1"
			}
			modifier = {
				factor = 2
				rohan_has_low_corruption = yes
				is_going_cooperative = yes
			}
			modifier = {
				factor = 0.1
				ISE = {
					is_ai = yes
					is_going_belligerent = no
				}
			}
		}
		x =-10
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			unlock_decision_tooltip = ROH_bop_corruption_crackdown

			# add national spirit
			add_ideas = ROH_idea_defensive_measures

			if = {
				limit = { rohan_has_bop = yes }
				roh_add_minor_theoden_drift = yes
			}
		}
	}

	focus = {
		id = ROH_curb_foreign_influence
		icon = GFX_goal_ROH_curb_foreign_influence_protect_political_power
		relative_position_id = ROH_defensive_measures
		prerequisite = { focus = ROH_defensive_measures }
		available = { rohan_has_bop = yes rohan_has_low_sanity = yes }
		cancel_if_invalid = no
		continue_if_invalid = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN }
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 4
				is_going_cooperative = yes
			}
			modifier = {
				factor = 4
				is_going_cooperative = yes
				date > "3021.1.1"
			}
			modifier = {
				factor = 3
				check_variable = { realm_cohesion_drift < 0 }
			}
		}
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			custom_effect_tooltip = ROH_curb_foreign_influence_tt
			# change national spirit
			if = {
				limit = { has_idea = ROH_idea_dm_military_vigilance }
				swap_ideas = {
					remove_idea = ROH_idea_dm_military_vigilance
					add_idea = ROH_idea_dm_curb_influence_and_military_vigilance
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ROH_idea_defensive_measures
					add_idea = ROH_idea_dm_curb_influence
				}
			}

			roh_add_minor_theoden_drift = yes
		}
	}

	focus = {
		id = ROH_military_vigilance
		icon = GFX_goal_ROH_military_vigilance_soldier_shield
		relative_position_id = ROH_defensive_measures
		prerequisite = { focus = ROH_defensive_measures }
		available = { OR = { AND = { rohan_has_bop = yes rohan_has_low_sanity = yes } hidden_trigger = { is_ai = yes } } }
		cancel_if_invalid = no
		continue_if_invalid = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN }
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				ISE = { has_government = belligerent }
			}
			modifier = {
				factor = 2
				threat > 0.15
			}
			modifier = {
				factor = 2
				rohan_has_mid_corruption = yes
				is_going_cooperative = yes
			}
		}
		x =-2
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# change national spirit
			if = {
				limit = { has_idea = ROH_idea_dm_curb_influence }
				swap_ideas = {
					remove_idea = ROH_idea_dm_curb_influence
					add_idea = ROH_idea_dm_curb_influence_and_military_vigilance
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ROH_idea_defensive_measures
					add_idea = ROH_idea_dm_military_vigilance
				}
			}
			roh_add_minor_theoden_drift = yes
		}
	}

	focus = {
		id = ROH_secure_the_riddermark
		icon = GFX_goal_ROH_secure_the_riddermark_rohan_flag
		relative_position_id = ROH_military_vigilance
		prerequisite = { focus = ROH_military_vigilance }
		available = { threat > 0.05 NOT = { is_ally_with = ISE } }
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				ISE = { has_government = belligerent }
			}
			modifier = {
				factor = 2
				threat > 0.15
			}
			modifier = {
				factor = 1.5
				is_historical_focus_on = yes
			}
		}
		x =0
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# possibly something with the Isengard point system

			# Make it so that interceptions cost Isengard 10k manpower now
			custom_effect_tooltip = ROH_secure_the_riddermark_tt

			remove_all_collaboration = yes

			if = {
				limit = {
					is_ai = yes
					ISE = { is_ai = no }
				}
				184 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 2483
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 2180
					}
				}
			}
		}
	}

	focus = {
		id = ROH_reinforce_helms_deep
		icon = GFX_goal_ROH_reinforce_helms_deep
		relative_position_id = ROH_secure_the_riddermark
		prerequisite = { focus = ROH_secure_the_riddermark }
		available = {
			has_tech = construction1
			184 = { is_controlled_by = ROOT }
		}
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				ISE = { has_government = belligerent }
			}
			modifier = {
				factor = 2
				threat > 0.1
			}
			modifier = {
				factor = 2
				has_war_with = ISE
			}
		}
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# add more castle/fort to helms deep
			184 = {
				add_building_construction = {
					type = castle
					level = 2
					instant_build = yes
					province = 4628
				}
			}
		}
	}

	focus = {
		id = ROH_reinforce_the_deeping_wall
		icon = GFX_goal_roh_helms_deep_weakness
		relative_position_id = ROH_secure_the_riddermark
		prerequisite = { focus = ROH_reinforce_helms_deep }
		available = {
			has_tech = construction2
			184 = { is_controlled_by = ROOT }
			NOT = { ISE = { has_completed_focus = helmsdeephasbutoneweakness } }
		}
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				ISE = { has_government = belligerent }
			}
			modifier = {
				factor = 2
				threat > 0.1
			}
			modifier = {
				factor = 2
				has_war_with = ISE
			}
		}
		x =-1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# you no longer get nuked if Isengard does the thing
			custom_effect_tooltip = ROH_reinforce_the_deeping_wall_tt
		}
	}

	focus = {
		id = ROH_reinforce_edoras
		icon = GFX_goal_ROH_reinforce_edoras
		relative_position_id = ROH_secure_the_riddermark
		prerequisite = { focus = ROH_secure_the_riddermark }
		available = {
			has_tech = construction1
			183 = { is_controlled_by = ROOT }
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				ISE = { has_government = belligerent }
			}
			modifier = {
				factor = 2
				threat > 0.1
			}
			modifier = {
				factor = 2
				has_war_with = ISE
			}
		}
		x =1
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# add more castle/fort in Edoras
			183 = {
				add_building_construction = {
					type = castle
					level = 1
					instant_build = yes
					province = 6760
				}
			}
		}
	}

	focus = {
		id = ROH_forge_construction
		icon = GFX_goal_ROH_forge_construction
		relative_position_id = ROH_secure_the_riddermark
		prerequisite = { focus = ROH_reinforce_edoras }
		available = {
			has_tech = foundry_tech
			183 = { is_controlled_by = ROOT }
		}
		ai_will_do = { factor = 5 }
		x =1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# add forges and mils in edoras
			183 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = foundry
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = { has_completed_focus = ROH_military_factory_focus }
				183 = {
					add_building_slot_and_mil = yes
				}
			}
		}
	}

	focus = {
		id = ROH_secure_the_westmarch
		icon = GFX_goal_ROH_secure_the_riddermark_rohan_flag
		relative_position_id = ROH_secure_the_riddermark
		prerequisite = { focus = ROH_secure_the_riddermark }
		available = { controls_state = 23 }
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0.1
				is_going_belligerent = yes
			}
			modifier = {
				factor = 2
				ROH_erkenbrand = {
					is_region_4_leader = yes
				}
			}
			modifier = {
				factor = 1.5
				ROH_erkenbrand = {
					is_region_3_leader = yes
				}
			}
			modifier = {
				factor = 1.5
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 2.5
				is_going_cooperative = yes
				OR = {
					ISE = { is_ai = yes is_going_belligerent = yes }
					ISE = { has_government = belligerent }
				}
			}
		}
		x =0
		y =3
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# build railway from Helmsdeep into westmarch
			custom_effect_tooltip = ROH_secure_the_westmarch_tt
			hidden_effect = {
				build_railway = {
					level = 2
					path = {
						2180 3442 6740 3954 4374 4804
					}
					build_only_on_allied = yes
				}
				23 = {
					add_building_construction = {
						type = supply_node
						level = 1
						instant_build = yes
						province = 4804
					}
				}
				# Some cheeky "simulated" ai behaviour (You didn't see this, ok? It's our little secret.)
				if = {
					limit = {
						is_ai = yes
					}
					random_list = {
						25 = {
							184 = {
								add_building_construction = {
									type = bunker
									level = 3
									instant_build = yes
									province = 2483
								}
								add_building_construction = {
									type = bunker
									level = 2
									instant_build = yes
									province = 2180
								}
							}
						}
						25 = {
							184 = {
								add_building_construction = {
									type = bunker
									level = 2
									instant_build = yes
									province = 2483
								}
								add_building_construction = {
									type = bunker
									level = 2
									instant_build = yes
									province = 2180
								}
							}
						}
						25 = {
							184 = {
								add_building_construction = {
									type = bunker
									level = 3
									instant_build = yes
									province = 2483
								}
								add_building_construction = {
									type = bunker
									level = 1
									instant_build = yes
									province = 2180
								}
							}
						}
						25 = {
							184 = {
								add_building_construction = {
									type = bunker
									level = 2
									instant_build = yes
									province = 2483
								}
								add_building_construction = {
									type = bunker
									level = 1
									instant_build = yes
									province = 2180
								}
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = ROH_commit_to_defense
		icon = GFX_goal_ROH_reinforce_helms_deep
		relative_position_id = ROH_secure_the_westmarch
		prerequisite = { focus = ROH_secure_the_westmarch }
		available = {
			controls_state = 23
			threat > 0.16
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 4
				ROH_erkenbrand = { is_region_4_leader = yes }
			}
			modifier = {
				factor = 1.5
				ROH_erkenbrand = { is_region_3_leader = yes }
			}
			modifier = {
				ISE = { is_ai = no }
				factor = 3
			}
		}
		x =-1
		y =1
		mutually_exclusive = { focus = ROH_evacuate_the_westmarch }
		cost = 10
		completion_reward = {
			# build a new castle in westmarch as well as a line of encampments
			custom_effect_tooltip = ROH_commit_to_defense_tt
			hidden_effect = {
				23 = {
					add_victory_points = {
						province = 4804
						value = 5
					}
					add_building_construction = {
						type = castle
						level = 2
						instant_build = yes
						province = 4804
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 3805
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 4374
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 3954
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 6740
					}
				}
			}
		}
	}

	focus = {
		id = ROH_evacuate_the_westmarch
		icon = GFX_goal_ROH_reinforce_edoras
		relative_position_id = ROH_secure_the_westmarch
		prerequisite = { focus = ROH_secure_the_westmarch }
		available = {
			controls_state = 23
			threat > 0.16
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 6 }
		x =1
		y =1
		mutually_exclusive = { focus = ROH_commit_to_defense }
		cost = 5
		completion_reward = {
			custom_effect_tooltip = ROH_evacuate_the_westmarch_tt
			# remove all factories from westmarch and place them elsewhere in the realm
			hidden_effect = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						NOT = { check_variable = { id = 23.id } }
					}
					add_building_construction = {
						type = industrial_complex
						level = 23.building_level@industrial_complex
					}
				}
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						NOT = { check_variable = { id = 23.id } }
					}
					add_building_construction = {
						type = arms_factory
						level = 23.building_level@arms_factory
					}
				}
				23 = {
					remove_building = {
						type = industrial_complex
						level = 23.building_level@industrial_complex
					}
					remove_building = {
						type = arms_factory
						level = 23.building_level@arms_factory
					}
				}
			}
		}
	}

	focus = {
		id = ROH_form_the_kings_council
		icon = GFX_goal_ROH_form_the_kings_council
		relative_position_id = ROH_defensive_measures
		prerequisite = { focus = ROH_enact_tax_cuts }
		prerequisite = { focus = ROH_curb_foreign_influence }
		available = { rohan_has_bop = yes rohan_has_high_sanity = yes }
		cancel_if_invalid = no
		continue_if_invalid = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN }
		ai_will_do = {
			factor = 35
			modifier = {
				factor = 10
				is_going_cooperative = yes
				date > "3019.6.1"
			}
			modifier = {
				factor = 0
				is_going_cooperative = no
			}
			modifier = {
				add = 1
				date > "3021.1.1"
			}
		}
		x =2
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# make it more expensive to declare small council members
			add_ideas = ROH_the_kings_council

			roh_add_major_theoden_drift = yes
		}
	}

	focus = {
		id = ROH_gandalfs_arrival
		icon = GFX_goal_ROH_gandalfs_arrival
		relative_position_id = ROH_accept_grima
		prerequisite = { focus = ROH_accept_grima }
		available = { autocompleted_on_event = yes }
		search_filters = { FOCUS_FILTER_POLITICAL }
		ai_will_do = { factor = 100 }
		x =0
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# autocompleted on gandralf arrival. pop event
			custom_effect_tooltip = autocompleted_on_event_tt
			custom_effect_tooltip = ROH_gandalfs_arrival_tt
		}
	}

	focus = {
		id = ROH_let_gandalf_in
		icon = GFX_goal_ROH_let_gandalf_in
		relative_position_id = ROH_gandalfs_arrival
		prerequisite = { focus = ROH_gandalfs_arrival }
		available = { autocompleted_on_event = yes }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 100 }
		x =-5
		y =1
		mutually_exclusive = { focus = ROH_purge_the_rot focus = ROH_wormtongue_cabinet focus = ROH_deny_gandalf_entrance }
		cost = 10
		completion_reward = {
			# Gandalf becomes a poggers advisor that gives a tech slot and everything
			# but then leaves once MOR declares war on GON

			activate_advisor = ROH_gandalf_token_political_advisor
			if = {
				limit = { SHI = { FS_pippin = { is_dead = no } } }
				custom_effect_tooltip = ROH_let_gandalf_in_tt_pippin
			}
			if = {
				limit = { SHI = { FS_merry = { is_dead = no } } }
				custom_effect_tooltip = ROH_let_gandalf_in_tt_merry
			}

			roh_end_bop_struggle = yes

			set_country_leader_portrait = {
				portrait = GFX_portrait_rohan_theoden
			}
			if = {
				limit = { has_country_leader_with_trait = afflicted }
				remove_country_leader_trait = afflicted
			}
			if = {
				limit = { has_country_leader_with_trait = isolated_and_paranoid }
				remove_country_leader_trait = isolated_and_paranoid
			}

			hidden_effect = {
				country_event = { id = rohan.88 days = 80 }	
			}
		}
	}

	focus = {
		id = ROH_purge_the_rot
		icon = GFX_goal_ROH_purge_the_rot
		relative_position_id = ROH_let_gandalf_in
		prerequisite = { focus = ROH_form_the_kings_council }
		available = { date > "3020.6.1" rohan_has_bop = yes rohan_has_very_high_sanity = yes }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		cancel_if_invalid = no
		continue_if_invalid = yes
		ai_will_do = {
			factor = 30
			modifier = {
				factor = 10
				is_going_cooperative = yes
				date > "3019.6.1"
			}
			modifier = {
				factor = 0
				is_going_cooperative = no
			}
			modifier = {
				add = 1
				date > "3021.1.1"
			}
		}
		x =-2
		y =0
		mutually_exclusive = { focus = ROH_let_gandalf_in focus = ROH_deny_gandalf_entrance focus = ROH_wormtongue_cabinet }
		cost = 10
		completion_reward = {
			event_option_tooltip = rohan.86.a

			hidden_effect = {
				country_event = rohan.86

				country_event = { id = rohan.88 days = 80 }
			}
		}
	}

	focus = {
		id = ROH_exile_grima
		icon = GFX_goal_ROH_exile_grima
		relative_position_id = ROH_let_gandalf_in
		prerequisite = { focus = ROH_let_gandalf_in focus = ROH_purge_the_rot }
		mutually_exclusive = { focus = ROH_execute_grima }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 30 }
		x =-1
		y =1
		mutually_exclusive = { focus = ROH_execute_grima }
		cost = 5
		completion_reward = {
			ROH_grima = {
				lotr_retire_character = yes
			}
			hidden_effect = {
				set_global_flag = grima_exiled
				hidden_effect = { news_event = { hours = 48 id = news.341 } }
			}
			# give theoden "merciful" trait
			add_ideas = ROH_anti_eorl_plot_3
			ROH_theoden = {
				add_trait = {
					trait = the_merciful
				}
			}
		}
	}

	focus = {
		id = ROH_support_the_fellowship
		icon = GFX_goal_lth_fellowship_of_ring
		relative_position_id = ROH_secure_the_riddermark
		prerequisite = { focus = ROH_secure_the_riddermark }
		search_filters = { FOCUS_FILTER_RING }
		available = {
			NOT = { has_global_flag = fs_fellowship_breakup }
			NOT = { has_completed_focus = ROH_prepare_a_ring_interception }
			fellowship_is_active = yes
			fellowship_in_controlled_territory = yes
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 5
				has_country_flag = fs_friendly_attitude
			}
			modifier = {
				factor = 0.1
				is_going_belligerent = yes
			}
			modifier = {
				factor = 0.5
				is_historical_focus_on = yes
			}
		}
		x =3
		y =1
		mutually_exclusive = { }
		cost = 2
		completion_reward = {
			# event that lets us choose between heal, speed or something else
			custom_effect_tooltip = ROH_support_the_fellowship_tt
			hidden_effect = {
				country_event = rohan.76	
			}
		}
	}

	focus = {
		id = ROH_defend_the_fellowship_from_isengard
		icon = GFX_goal_ROH_defend_protect_shield_the_fellowship_ring
		relative_position_id = ROH_support_the_fellowship
		prerequisite = { focus = ROH_support_the_fellowship }
		search_filters = { FOCUS_FILTER_RING }
		available = {
			OR = {
				ROH_elfhelm = { is_unit_leader = yes }
				ROH_eomer = { is_unit_leader = yes }
				ROH_hama = { is_unit_leader = yes }
			}
			NOT = { has_global_flag = fs_fellowship_breakup }
			NOT = { has_global_flag = fs_elven_fellowship }
			fellowship_is_active = yes
			fellowship_in_controlled_territory = yes
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 10
				has_country_flag = fs_friendly_attitude
			}
			modifier = {
				factor = 0.1
				is_going_belligerent = yes
			}
		}
		x =0
		y =2
		mutually_exclusive = { }
		cost = 2
		completion_reward = {
			# send some boys to reinforce fellowship before Saruman's boys ambush
			custom_effect_tooltip = ROH_defend_the_fellowship_from_isengard_tt
			hidden_effect = {
				country_event = rohan.77	
			}
		}
	}

	focus = {
		id = ROH_purge_grima_sympathizers
		icon = GFX_goal_generic_crush_resistance
		relative_position_id = ROH_let_gandalf_in
		prerequisite = { focus = ROH_exile_grima focus = ROH_execute_grima }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 45 }
		x =0
		y =2
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# Unlock decisions to remove grima's advisors
			unlock_decision_tooltip = ROH_purge_grima_conspirors_small_council
			unlock_decision_tooltip = ROH_purge_grima_conspirors_council_of_study
			unlock_decision_tooltip = ROH_purge_grima_conspirors_war_council
			add_popularity = {
				ideology = belligerent
				popularity = -0.12
			}
			every_unit_leader = {
				limit = {
					has_trait = wormtongue_sympathizer
				}
				remove_unit_leader_role = yes
			}
		}
	}

	focus = {
		id = ROH_restore_the_realm
		icon = GFX_goal_ROH_restore_the_realm
		relative_position_id = ROH_let_gandalf_in
		prerequisite = { focus = ROH_purge_grima_sympathizers }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 50 }
		x =0
		y =3
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			set_politics = {
				ruling_party = cooperative
			}
			add_timed_idea = {
				idea = generic_cooperative
				days = 500
			}
			if = {
				limit = { cooperative < 0.15 }
				add_popularity = {
					ideology = cooperative
					popularity = 0.3
				}
			}
			else_if = {
				limit = { cooperative < 0.3 }
				add_popularity = {
					ideology = cooperative
					popularity = 0.12
				}
			}
			# Lower isengard raid maluses
			swap_ideas = {
				remove_idea = ROH_orc_pillage_2
				add_idea = ROH_orc_pillage_0
			}
		}
	}

	focus = {
		id = ROH_barrack_construction
		icon = GFX_goal_ROH_barrack_construction
		relative_position_id = ROH_restore_the_realm
		prerequisite = { focus = ROH_restore_the_realm }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 10 }
		x =2
		y =1
		mutually_exclusive = { }
		cost = 5
		available_if_capitulated = no
		completion_reward = {
			# add some barracks
			random_owned_state = {
				add_building_construction = {
					type = barracks
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_building_construction = {
					type = barracks
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ROH_heroes_of_rohan
		icon = GFX_goal_ROH_heroes_of_rohan
		relative_position_id = ROH_restore_the_realm
		prerequisite = { focus = ROH_restore_the_realm }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 20 }
		x =0
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# Give a bunch of important generals the "inspirational" trait
			if = { limit = { ROH_eomer = { is_unit_leader = yes } } ROH_eomer = { add_trait = { trait = hero_of_rohan } } }
			if = { limit = { ROH_erkenbrand = { is_unit_leader = yes } } ROH_erkenbrand = { add_trait = { trait = hero_of_rohan } } }
			if = { limit = { ROH_elfhelm = { is_unit_leader = yes } } ROH_elfhelm = { add_trait = { trait = hero_of_rohan } } }
			if = { limit = { ROH_hama = { is_unit_leader = yes } } ROH_hama = { add_trait = { trait = hero_of_rohan } } }
			if = { limit = { ROH_gamling = { is_unit_leader = yes } } ROH_gamling = { add_trait = { trait = hero_of_rohan } } }
			if = { limit = { ROH_grimbold = { is_unit_leader = yes } } ROH_grimbold = { add_trait = { trait = hero_of_rohan } } }
			if = { limit = { ROH_theodred = { is_unit_leader = yes } } ROH_theodred = { add_trait = { trait = hero_of_rohan } } }
		}
	}

	focus = {
		id = ROH_equine_requisitions
		icon = GFX_goal_ROH_equine_requisitions_horses
		relative_position_id = ROH_restore_the_realm
		prerequisite = { focus = ROH_restore_the_realm }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 20 }
		x =-2
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# get a bunch of cavalry for free
			add_timed_idea = {
				idea = ROH_equine_requisitions
				days = 210
			}
		}
	}

	focus = {
		id = ROH_hunt_down_stragglers
		icon = GFX_goal_ROH_hunt_down_stragglers
		relative_position_id = ROH_restore_the_realm
		prerequisite = { focus = ROH_equine_requisitions }
		prerequisite = { focus = ROH_heroes_of_rohan }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 20 }
		x =-1
		y =2
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# lower raid maluses again
			remove_ideas = ROH_orc_pillage_0
		}
	}

	focus = {
		id = ROH_intelligence_network
		icon = GFX_goal_ROH_intelligence_network_tower_recon
		relative_position_id = ROH_restore_the_realm
		prerequisite = { focus = ROH_barrack_construction }
		prerequisite = { focus = ROH_heroes_of_rohan }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 10 }
		x =1
		y =2
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# build some lookout towers and stuff
			if = {
				limit = { NOT = { has_tech = local_network } }
				set_technology = {
					local_network = 1
				}
			}
			random_owned_state = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ROH_eorlingas_united
		icon = GFX_goal_ROH_eorlingas_united
		relative_position_id = ROH_restore_the_realm
		prerequisite = { focus = ROH_hunt_down_stragglers }
		prerequisite = { focus = ROH_intelligence_network }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 5 }
		x =0
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# doubles effects of cohesion
			custom_effect_tooltip = ROH_eorlingas_united_tt
			add_popularity = {
				ideology = cooperative
				popularity = 0.12
			}
		}
	}

	focus = {
		id = ROH_liberate_the_people
		icon = GFX_goal_ROH_liberate_the_people_commoners_peasants
		relative_position_id = ROH_eorlingas_united
		prerequisite = { focus = ROH_eorlingas_united }
		available = {
			is_subject = no
			ISE = { has_capitulated = yes }
			MOR = { has_capitulated = yes }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 100 }
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# something very end-game epic/formable nation type thing
			custom_effect_tooltip = ROH_liberate_the_people_tt
		}
	}

	focus = {
		id = ROH_alliance_building
		icon = GFX_goal_lth_shared_cause_hands
		relative_position_id = ROH_restore_the_realm
		prerequisite = { focus = ROH_restore_the_realm }
		available = {
			OR = {
				AND = {
					has_war = yes
					threat > 0.22
				}
				threat > 0.5
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				surrender_progress > 0.5
			}
			modifier = {
				factor = 2
				surrender_progress > 0.8
			}
			modifier = {
				factor = 0.5
				NOT = { has_completed_focus = ROH_hunt_down_stragglers }
			}
		}
		x =-4
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# Make it so that Grima adds a spirit that forces neutrality. Then remove it here.
			remove_ideas = ROH_neutral_foreign_policy
		}
	}

	focus = {
		id = ROH_answer_the_call
		icon = GFX_goal_gondor_light_the_beacons
		relative_position_id = ROH_restore_the_realm
		prerequisite = { focus = ROH_restore_the_realm }
		available = { autocompleted_on_event = yes }
		ai_will_do = { factor = 100 }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		x =4
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# autocompleted on beacons answered
		}
	}

	focus = {
		id = ROH_death
		icon = GFX_goal_ROH_death_theoden_speech
		relative_position_id = ROH_restore_the_realm
		prerequisite = { focus = ROH_answer_the_call }
		available = {
			ROH_theoden = { is_unit_leader = yes }
			is_subject = no
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = {
			factor = 0
			modifier = {
				add = 35
				ROH_theoden = {
					is_unit_leader = yes
					num_units > 10
				}
			}
		}
		x =4
		y =3
		mutually_exclusive = { }
		cost = 1
		completion_reward = {
			ROH_theoden = {
				add_temporary_buff_to_units = {
					combat_offense = 2.0
					combat_breakthrough = 2.0
					cannot_retreat_while_attacking = 1.0
								
					days = 7
					tooltip = "DEATH!"
				}
			}
		}
	}

	focus = {
		id = ROH_towards_gondor
		icon = GFX_goal_gondor
		relative_position_id = ROH_alliance_building
		prerequisite = { focus = ROH_alliance_building }
		available = { is_subject = no GON = { exists = yes is_subject = no NOT = { has_government = belligerent } } }
		bypass = {
			is_in_faction_with = GON
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				GON = { has_government = unaligned }
			}
			modifier = {
				factor = 6
				GON = { has_government = cooperative }
			}
			modifier = {
				factor = 4
				strength_ratio = {
					tag = GON
					ratio < 0.8
				}
			}
			modifier = {
				factor = 2
				has_opinion = { target = GON value > 35 }
			}
			modifier = {
				factor = 6
				has_war = yes
			}
			modifier = {
				factor = 2
				surrender_progress > 0.5
			}
			modifier = {
				factor = 2
				surrender_progress > 0.8
			}
		}
		x =1
		y =1
		mutually_exclusive = { focus = ROH_loth_ise_alliance }
		cost = 10
		completion_reward = {
			# ask to join GON
			GON = { ask_to_join_faction = yes }
		}
	}

	focus = {
		id = ROH_two_kings_alliance
		icon = GFX_goal_ROH_two_kings_alliance
		relative_position_id = ROH_alliance_building
		prerequisite = { focus = ROH_towards_gondor }
		available = {
			# if aragorn is king
			GON = { has_completed_focus = GON_crown_aragorn_king }
			is_in_faction_with = GON
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				check_variable = { army_experience < 35 }
			}
			modifier = {
				factor = 2
				GON = { check_variable = { army_experience < 35 } }
			}
		}
		x =1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# deepen alliance (this is pretty half-assed ngl)
			ROH = {
				give_guarantee = GON
				army_experience = 100
			}
			GON = {
				give_guarantee = ROH
				army_experience = 100
			}
		}
	}

	focus = {
		id = ROH_loth_ise_alliance
		icon = GFX_goal_ROH_loth_ise_alliance_unity
		relative_position_id = ROH_alliance_building
		prerequisite = { focus = ROH_alliance_building }
		bypass = {
			OR = {
				is_in_faction_with = ISE
				is_in_faction_with = LTH
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		available = {
			is_subject = no
			# only if isengard went good-guy
			OR = {
				ise_is_evil = no
				lth_is_evil = no
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				OR = {
					LTH = { has_government = unaligned }
					LTH = { has_government = cooperative }
				}
			}
			modifier = {
				factor = 6
				OR = {
					ISE = { has_government = unaligned }
					ISE = { has_government = cooperative }
				}
			}
			modifier = {
				factor = 0.5
				ISE = { has_government = belligerent }
			}
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					LTH = { we_like_them = yes }
					ISE = { we_like_them = yes }
				}
			}
			modifier = {
				factor = 2
				surrender_progress > 0.5
			}
			modifier = {
				factor = 2
				surrender_progress > 0.8
			}
		}
		x =-1
		y =1
		mutually_exclusive = { focus = ROH_towards_gondor }
		cost = 10
		completion_reward = {
			create_faction = ROH_loth_ise_alliance
		}
	}

	focus = {
		id = ROH_invite_the_ents
		icon = GFX_goal_entwood_treebeard
		relative_position_id = ROH_alliance_building
		prerequisite = { focus = ROH_alliance_building }
		available = {
			is_subject = no
			# needs good opinion withs ents, needs isengard burned ents etc...
			is_in_faction = yes
			ISE = { has_completed_focus = burnthefangornforest }
			ENT = {
				has_opinion = {
					target = ROOT
					value > 25
				}
				is_subject = no
				exists = yes
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				OR = {
					ENT = { has_government = unaligned }
					ENT = { has_government = cooperative }
				}
			}
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				ENT = { we_like_them = yes }
			}
			modifier = {
				factor = 2
				any_enemy_country = { has_war_with = ENT }
			}
		}
		x =-3
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			ENT = { invite_to_faction = yes }
		}
	}

	focus = {
		id = ROH_invite_loth
		icon = GFX_goal_ROH_invite_loth_galadriel
		relative_position_id = ROH_alliance_building
		prerequisite = { focus = ROH_loth_ise_alliance }
		available = {
			is_subject = no
			LTH = {
				is_subject = no
				exists = yes
				is_in_faction = no
				NOT = { has_government = belligerent }
				NOT = { has_war_with = ROOT }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				LTH = { has_same_ideology = yes }
			}
			modifier = {
				factor = 2
				LTH = { we_like_them = yes }
			}
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		x =-2
		y =3
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# invite lothlorien
			LTH = { invite_to_faction = yes }
		}
	}

	focus = {
		id = ROH_improve_loth_alliance
		icon = GFX_goal_ROH_theoden_galadriel_loth_alliance
		relative_position_id = ROH_invite_loth
		prerequisite = { focus = ROH_invite_loth }
		available = {
			is_in_faction_with = LTH
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 3
				LTH = { is_ai = no }
			}
			modifier = {
				factor = 3
				target_air_focus = yes
			}
		}
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		completion_reward = {
			# something with eagles presumably
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_eagles
					uses = 1
					bonus = 0.5
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_eagles
					uses = 1
					bonus = 0.5
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_eagles
					uses = 2
					bonus = 0.5
				}
			}
		}
	}

	focus = {
		id = ROH_invite_ise
		icon = GFX_goal_ROH_invite_ise_saruman
		relative_position_id = ROH_alliance_building
		prerequisite = { focus = ROH_loth_ise_alliance }
		available = {
			is_subject = no
			ISE = {
				is_subject = no
				exists = yes
				is_in_faction = no
				NOT = { has_government = belligerent }
				NOT = { has_war_with = ROOT }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = {
			factor = 6
			modifier = {
				factor = 2
				ISE = { has_same_ideology = yes }
			}
			modifier = {
				factor = 2
				ISE = { we_like_them = yes }
			}
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		x =0
		y =3
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# invite isengard
			ISE = { invite_to_faction = yes }
		}
	}

	focus = {
		id = ROH_improve_ise_alliance
		icon = GFX_goal_ROH_theoden_saruman_ise_alliance
		relative_position_id = ROH_invite_ise
		prerequisite = { focus = ROH_invite_ise }
		available = {
			is_in_faction_with = LTH
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 3
				ISE = { is_ai = no }
			}
		}
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_knowledge_magic
					uses = 1
					bonus = 0.5
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_knowledge_magic
					uses = 1
					bonus = 0.5
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_knowledge_magic
					uses = 2
					bonus = 0.5
				}
			}
		}
	}

	focus = {
		id = ROH_alliance_of_the_center
		icon = GFX_goal_ROH_alliance_of_the_center_rohan_isengard_lothlorien
		relative_position_id = ROH_alliance_building
		prerequisite = { focus = ROH_invite_ise }
		prerequisite = { focus = ROH_invite_loth }
		available = {
			is_in_faction = yes
			is_faction_leader = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 10 }
		x =-1
		y =4
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# This if is here just so the tooltip makes sense
			if = {
				limit = { is_faction_leader = no }
				effect_tooltip = {
					ROH = {
						add_to_tech_sharing_group = calenardhon_research_group
						army_experience = 100
					}
				}
			}
			# research group
			every_country = {
				limit = {
					is_in_faction_with = ROH
					exists = yes
				}
				add_to_tech_sharing_group = calenardhon_research_group
				army_experience = 100
			}
		}
	}

	focus = {
		id = ROH_execute_grima
		icon = GFX_goal_ROH_execute_grima
		relative_position_id = ROH_let_gandalf_in
		prerequisite = { focus = ROH_let_gandalf_in focus = ROH_purge_the_rot }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_COOPERATIVE }
		ai_will_do = { factor = 25 }
		x =1
		y =1
		mutually_exclusive = { focus = ROH_exile_grima }
		cost = 5
		completion_reward = {
			add_ideas = ROH_anti_eorl_plot_3

			ROH_grima = { lotr_kill_character = yes }

			set_global_flag = grima_executed
			hidden_effect = { news_event = { hours = 48 id = news.342 } }
			# give theoden "merciless" trait
			ROH_theoden = {
				add_trait = {
					trait = the_merciless
				}
			}
		}
	}

	focus = {
		id = ROH_deny_gandalf_entrance
		icon = GFX_goal_ROH_deny_gandalf_entrance
		relative_position_id = ROH_gandalfs_arrival
		prerequisite = { focus = ROH_gandalfs_arrival }
		mutually_exclusive = { focus = ROH_purge_the_rot focus = ROH_let_gandalf_in focus = ROH_wormtongue_cabinet }
		available = { 
			autocompleted_on_event = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 100 }
		x =5
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			roh_end_bop_struggle = yes

			hidden_effect = {
				if = {
					limit = { ROH_eomer = { is_unit_leader = yes } }
					country_event = { id = rohan.3 days = 3 }
				}
			}
		}
	}

	focus = {
		id = ROH_the_kings_death
		icon = GFX_goal_ROH_the_kings_death_theoden
		relative_position_id = ROH_deny_gandalf_entrance
		prerequisite = { focus = ROH_deny_gandalf_entrance focus = ROH_wormtongue_cabinet }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		bypass = {
			ROH_theoden = { is_country_leader = no }
		}
		ai_will_do = { factor = 110 }
		x =-1
		y =1
		mutually_exclusive = { focus = ROH_pull_the_strings }
		cost = 10
		completion_reward = {
			# Theoden dies, Eowyn takes over, bad traits
			ROH_theoden = {
				lotr_kill_character = yes
			}
			hidden_effect = {
				news_event = news.339 # Old event. new event below
				news_event = { id = news.403 days = 4 }
				# just making sure eomer and theodred dont exist anymore
				if = {
					limit = { ROH_eomer = { is_unit_leader = yes } }
					country_event = { id = rohan.3 days = 3 }
				}
				if = {
					limit = { ROH_theodred = { is_unit_leader = yes } }
					ROH_theodred = { lotr_kill_character = yes }
				}
			}
			add_ideas = ROH_questionable_legitimacy_3
			set_country_leader_portrait = {
				portrait = GFX_portrait_rohan_eowyn_puppet
			}
			hidden_effect = {
				ROH_eowyn = {
					remove_advisor_role = {
						slot = chief_advisor
					}
				}
			}
			ROH_eowyn = {
				add_country_leader_trait = inexperienced_monarch
			}
			add_timed_idea = {
				idea = melancholic_mood
				days = 240
			}
		}
	}

	focus = {
		id = ROH_pull_the_strings
		icon = GFX_goal_ROH_pull_the_strings_puppet_manipulate
		relative_position_id = ROH_deny_gandalf_entrance
		prerequisite = { focus = ROH_deny_gandalf_entrance focus = ROH_wormtongue_cabinet }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 80 }
		x =1
		y =1
		mutually_exclusive = { focus = ROH_the_kings_death }
		cost = 10
		completion_reward = {
			# Give advisor grima a better trait
			remove_advisor_role = {
				character = ROH_grima
				slot = chief_advisor
			}
			add_advisor_role = {
				character = ROH_grima
				activate = yes
				advisor = {
					slot = chief_advisor
					idea_token = ROH_grima_chief_advisor2
					traits = {
						absolute_power
					}
					can_be_fired = no
				}
			}
			# add trait to theoden
			ROH_theoden = {
				add_country_leader_trait = puppet_king
			}
			add_ideas = ROH_questionable_legitimacy_1
		}
	}

	focus = {
		id = ROH_the_shadow_over_rohan
		icon = GFX_goal_ROH_the_shadow_over_rohan_flag
		relative_position_id = ROH_deny_gandalf_entrance
		prerequisite = { focus = ROH_pull_the_strings focus = ROH_the_kings_death }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = {
			factor = 23
			modifier = {
				factor = 2
				date > "3021.10.1"
			}
			modifier = {
				factor = 5
				has_war_with = ISE
			}
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		x =1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# Get rid of orc pillaging
			remove_ideas = ROH_orc_pillage_2
			# change to belligerent
			set_politics = {
				ruling_party = belligerent
			}
			add_timed_idea = {
				idea = generic_belligerent
				days = 500
			}
			if = {
				limit = { belligerent < 0.15 }
				add_popularity = {
					ideology = belligerent
					popularity = 0.3
				}
			}
			else_if = {
				limit = { belligerent < 0.3 }
				add_popularity = {
					ideology = belligerent
					popularity = 0.12
				}
			}
			# add truce with isengard
			if = {
				limit = { has_war_with = ISE ISE = { has_government = belligerent } }
				ISE = { country_event = rohan.89 }
				custom_effect_tooltip = if_they_accept_newline_tt
				event_option_tooltip = rohan.89.a
			}
		}
	}

	focus = {
		id = ROH_settle_the_succession
		icon = GFX_goal_ROH_settle_the_succession_rohan_crown
		relative_position_id = ROH_the_shadow_over_rohan
		prerequisite = { focus = ROH_the_shadow_over_rohan }
		prerequisite = { focus = ROH_the_kings_death }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 20 }
		x =-4
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			if = { # for the tooltip
				limit = { NOT = { has_completed_focus = ROH_the_kings_death } }
				swap_ideas = {
					remove_idea = ROH_questionable_legitimacy_3
					add_idea = ROH_questionable_legitimacy_2
				}
			}
			else_if = {
				limit = { has_idea = ROH_questionable_legitimacy_3 }
				swap_ideas = {
					remove_idea = ROH_questionable_legitimacy_3
					add_idea = ROH_questionable_legitimacy_2
				}
			}
			else_if = {
				limit = { has_idea = ROH_questionable_legitimacy_2 }
				swap_ideas = {
					remove_idea = ROH_questionable_legitimacy_2
					add_idea = ROH_questionable_legitimacy_1
				}
			}
			else = {
				remove_ideas = ROH_questionable_legitimacy_1
			}
		}
	}

	focus = {
		id = ROH_the_puppet_queen
		icon = GFX_goal_ROH_the_puppet_queen_eowyn
		relative_position_id = ROH_the_shadow_over_rohan
		prerequisite = { focus = ROH_settle_the_succession }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 20 }
		x =-5
		y =2
		mutually_exclusive = { focus = ROH_claim_crown_through_matrimony }
		cost = 10
		completion_reward = {
			# change eowyn's traits
			# Give advisor grima a better trait
			remove_advisor_role = {
				character = ROH_grima
				slot = chief_advisor
			}
			add_advisor_role = {
				character = ROH_grima
				activate = yes
				advisor = {
					slot = chief_advisor
					idea_token = ROH_grima_chief_advisor2
					traits = {
						absolute_power
					}
				}
			}
			# add national spirit or something, maybe add trait to theoden
			swap_ruler_traits = {
				remove = inexperienced_monarch
				add = puppet_queen
			}
		}
	}

	focus = {
		id = ROH_claim_crown_through_matrimony
		icon = GFX_goal_ROH_claim_crown_through_matrimony_grima_eowyn
		relative_position_id = ROH_the_shadow_over_rohan
		prerequisite = { focus = ROH_settle_the_succession }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 20 }
		x =-3
		y =2
		mutually_exclusive = { focus = ROH_the_puppet_queen }
		cost = 10
		completion_reward = {
			# grima becomes leader
			add_country_leader_role = {
				character = ROH_grima
				promote_leader = yes
				country_leader = {
					ideology = expansionist
					traits = { unpopular_monarch eager_collaborator }
				}
			}
			# newspaper event
			hidden_effect = { country_event = rohan.7 }
		}
	}

	focus = {
		id = ROH_dynastic_legitimacy
		icon = GFX_goal_generic_support_crown
		relative_position_id = ROH_the_shadow_over_rohan
		prerequisite = { focus = ROH_the_puppet_queen focus = ROH_claim_crown_through_matrimony }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 20 }
		x =-4
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			if = { # for the tooltip
				limit = { NOT = { has_completed_focus = ROH_the_kings_death } }
				swap_ideas = {
					remove_idea = ROH_questionable_legitimacy_2
					add_idea = ROH_questionable_legitimacy_1
				}
			}
			else_if = {
				limit = { has_idea = ROH_questionable_legitimacy_3 }
				swap_ideas = {
					remove_idea = ROH_questionable_legitimacy_3
					add_idea = ROH_questionable_legitimacy_2
				}
			}
			else_if = {
				limit = { has_idea = ROH_questionable_legitimacy_2 }
				swap_ideas = {
					remove_idea = ROH_questionable_legitimacy_2
					add_idea = ROH_questionable_legitimacy_1
				}
			}
			else = {
				remove_ideas = ROH_questionable_legitimacy_1
			}
		}
	}

	focus = {
		id = ROH_the_new_regime
		icon = GFX_goal_ROH_the_new_regime_grima_wormtongue_king
		relative_position_id = ROH_the_shadow_over_rohan
		prerequisite = { focus = ROH_dynastic_legitimacy }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 20 }
		x =-4
		y =4
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			swap_ideas = {
				remove_idea = ROH_dispersed_society
				add_idea = ROH_centralized_despotism
			}
		}
	}

	focus = {
		id = ROH_pledge_to_saruman
		icon = GFX_goal_ROH_pledge_to_saruman
		relative_position_id = ROH_the_shadow_over_rohan
		prerequisite = { focus = ROH_the_shadow_over_rohan }
		available = { ise_is_evil = yes }
		bypass = {
			is_subject_of = ISE
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = {
			factor = 30
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 5
				surrender_progress > 0.17
			}
		}
		x =0
		y =1
		mutually_exclusive = { focus = ROH_resist_saruman }
		cost = 5
		completion_reward = {
			ISE = { country_event = { id = rohan.96 days = 2 } }
			custom_effect_tooltip = if_they_accept_newline_tt
			event_option_tooltip = rohan.98.a
		}
	}

	focus = {
		id = ROH_negotiate_terms
		icon = GFX_goal_ROH_negotiate_terms
		relative_position_id = ROH_pledge_to_saruman
		prerequisite = { focus = ROH_pledge_to_saruman }
		available = {
			is_subject_of = ISE
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = {
			factor = 20
		}
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 10
		cancelable = no
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			# back and forth-events with isengard to choose our puppetry level
			custom_effect_tooltip = ROH_negotiate_terms_tt
		}
		select_effect = {
			country_event = rohannegotiations.1
		}
	}

	focus = {
		id = ROH_isengards_enforcers
		icon = GFX_goal_ROH_isengards_enforcers
		relative_position_id = ROH_pledge_to_saruman
		prerequisite = { focus = ROH_pledge_to_saruman }
		available = { is_subject_of = ISE }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = {
			factor = 12
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {

			custom_effect_tooltip = ROH_isengards_enforcers_tt
			
			hidden_effect = {
				load_oob = ROH_Isengard_enforcers
			}
		}
	}

	focus = {
		id = ROH_bulwark_of_the_west
		icon = GFX_goal_ROH_bulwark_of_the_west
		relative_position_id = ROH_pledge_to_saruman
		prerequisite = { focus = ROH_negotiate_terms focus = ROH_isengards_enforcers }
		available = { is_subject_of = ISE }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 15 }
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# add military factories and stuff
			random_state_add_building_slot_and_mil_x2 = yes
			random_state_add_building_slot_and_mil_x2 = yes

			swap_ideas = {
				remove_idea = ROH_isengard_protectorate
				add_idea = ROH_isengard_protectorate_2
			}
		}
	}

	focus = {
		id = ROH_sarumans_ambassadors
		icon = GFX_goal_ROH_sarumans_ambassadors
		relative_position_id = ROH_pledge_to_saruman
		prerequisite = { focus = ROH_bulwark_of_the_west }
		available = { is_subject_of = ISE }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 15 }
		x =0
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# unlock some high level advisors and force them in. Ambassadors that cant be fired and cant be hired if not puppet of saruman
			custom_effect_tooltip = ROH_sarumans_ambassadors_tt
			hidden_effect = {
				ROH_leocred = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_fengel = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_heostor = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_widgelred = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_frumbold = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_grimbeam = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_erkenor = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_freca = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_heoere = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_herethain = { set_can_be_fired_in_advisor_role = { value = yes } }
				ROH_leoheort = { set_can_be_fired_in_advisor_role = { value = yes } }
			}
		}
	}

	focus = {
		id = ROH_resist_saruman
		icon = GFX_goal_ROH_resist_saruman
		relative_position_id = ROH_the_shadow_over_rohan
		prerequisite = { focus = ROH_the_shadow_over_rohan }
		available = {
			NOT = { is_subject_of = ISE }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 5
				surrender_progress > 0.17
			}
		}
		x =4
		y =1
		mutually_exclusive = { focus = ROH_pledge_to_saruman }
		cost = 5
		completion_reward = {
			ISE = {
				country_event = rohan.90
			}
		}
	}

	focus = {
		id = ROH_our_own_way
		icon = GFX_goal_ROH_our_own_way
		relative_position_id = ROH_resist_saruman
		prerequisite = { focus = ROH_resist_saruman }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		bypass = {
			is_subject = yes
			is_in_faction = yes
			NOT = { is_in_faction_with = MOR }
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				MOR = { is_weaker = yes }
			}
			modifier = {
				factor = 0.1
				MOR = { has_war = no }
				threat < 0.3
			}
		}
		x =1
		y =1
		mutually_exclusive = { focus = ROH_turn_to_mordor }
		cost = 10
		completion_reward = {
			# create own faction
			create_faction = "Rohan Alliance"
		}
	}

	focus = {
		id = ROH_unchecked_ambition
		icon = GFX_goal_generic_annex_country_2
		relative_position_id = ROH_resist_saruman
		prerequisite = { focus = ROH_our_own_way }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0.5
				has_war = yes
			}
		}
		x =1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# buncha claims and wargoals?
			add_threat = 10
			if = {
				limit = {
					NOT = { is_ally_with = LTH }
					country_exists = LTH
				}
				every_state = {
					limit = { is_owned_by = LTH }
					add_claim_by = ROH
				}
			}
			if = {
				limit = {
					NOT = { is_ally_with = ENT }
					country_exists = ENT
				}
				every_state = {
					limit = { is_owned_by = ENT }
					add_claim_by = ROH
				}
			}
			if = {
				limit = {
					NOT = { is_ally_with = ENE }
					country_exists = ENE
				}
				every_state = {
					limit = { is_owned_by = ENE }
					add_claim_by = ROH
				}
			}
			if = {
				limit = {
					NOT = { is_ally_with = GON }
					country_exists = GON
				}
				every_state = {
					limit = { is_owned_by = GON }
					add_claim_by = ROH
				}
			}
		}
	}

	focus = {
		id = ROH_horselord_supremacy
		icon = GFX_goal_ROH_horselord_supremacy
		relative_position_id = ROH_resist_saruman
		prerequisite = { focus = ROH_unchecked_ambition }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 15 }
		x =1
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			add_ideas = ROH_horselord_supremacy
		}
	}

	focus = {
		id = ROH_turn_to_mordor
		icon = GFX_goal_ROH_turn_to_mordor
		relative_position_id = ROH_resist_saruman
		prerequisite = { focus = ROH_resist_saruman }
		available = {
			is_subject = no
			MOR = {
				exists = yes
				is_subject = no
				NOT = { has_war_with = ROOT }
				is_faction_leader = yes
			}
			OR = {
				MOR = { has_war = yes }
				threat > 0.31
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		bypass = {
			is_in_faction_with = MOR
		}
		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				has_war = yes
				MOR = { is_stronger = yes }
			}
		}
		x =-1
		y =1
		mutually_exclusive = { focus = ROH_our_own_way }
		cost = 10
		completion_reward = {
			# ask to join dark pact
			MOR = { ask_to_join_faction = yes }
		}
	}

	focus = {
		id = ROH_coalition_of_the_shadow
		icon = GFX_goal_ROH_coalition_of_the_shadow_sauron_shadow_mordor
		relative_position_id = ROH_resist_saruman
		prerequisite = { focus = ROH_turn_to_mordor }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		bypass = {
			OR = {
				NOT = { is_in_faction_with = MOR }
				MOR = { exists = no }
			}
		}
		ai_will_do = { factor = 20 }
		x =-1
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			add_to_tech_sharing_group = mordor_research

			custom_effect_tooltip = ROH_coalition_of_the_shadow_tt

			hidden_effect = {
				ROH_cazzaurg = { remove_trait = { trait = isengard_enforcer } }
				ROH_gugreth = { remove_trait = { trait = isengard_enforcer } }
				ROH_uthrakh = { remove_trait = { trait = isengard_enforcer } }
			}			
		}
	}

	focus = {
		id = ROH_consolidation_of_power
		icon = GFX_goal_lth_hand_grabbing_crown
		relative_position_id = ROH_the_shadow_over_rohan
		prerequisite = { focus = ROH_the_new_regime focus = ROH_sarumans_ambassadors focus = ROH_horselord_supremacy focus = ROH_coalition_of_the_shadow }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 25 }
		x =0
		y =5
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			if = {
				limit = { has_idea = ROH_questionable_legitimacy_3 }
				swap_ideas = {
					remove_idea = ROH_questionable_legitimacy_3
					add_idea = ROH_questionable_legitimacy_2
				}
			}
			else_if = {
				limit = { has_idea = ROH_questionable_legitimacy_2 }
				swap_ideas = {
					remove_idea = ROH_questionable_legitimacy_2
					add_idea = ROH_questionable_legitimacy_1
				}
			}
			else = {
				remove_ideas = ROH_questionable_legitimacy_1
			}
		}
	}

	focus = {
		id = ROH_imperial_glory
		icon = GFX_goal_ROH_imperial_glory
		relative_position_id = ROH_consolidation_of_power
		prerequisite = { focus = ROH_consolidation_of_power }
		available = {
			is_subject = no
			owns_all_claimed_states = yes
			has_completed_focus = ROH_unchecked_ambition
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 100 }
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# Some epic formable nation type thing
			every_state = {
				limit = { is_claimed_by = ROH }
				add_core_of = ROH
			}
			set_cosmetic_tag = ROHEMPIRE
		}
	}

	focus = {
		id = ROH_reformation_of_the_guard
		icon = GFX_goal_lth_elven_cavalry
		relative_position_id = ROH_consolidation_of_power
		prerequisite = { focus = ROH_consolidation_of_power }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 5 }
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# buff up the royal guard division, maybe even spawn 2 more or something
			improve_royal_guard = yes
		}
	}

	focus = {
		id = ROH_loyalty_through_fear
		icon = GFX_goal_ROH_loyalty_through_fear_armored_knight_intimidation
		relative_position_id = ROH_consolidation_of_power
		prerequisite = { focus = ROH_consolidation_of_power }
		available = { }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BELLIGERENT }
		ai_will_do = { factor = 10 }
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# add fear propaganda spirit if not present
			# otherwise improve it
			if = {
				limit = { has_idea = ROH_fear_propaganda }
				swap_ideas = {
					remove_idea = ROH_fear_propaganda
					add_idea = ROH_fear_propaganda_2
				}
			}
			else = {
				add_ideas = ROH_fear_propaganda
			}
		}
	}


	### HORSELORDS

	focus = {
		id = ROH_horselords_of_rohan
		icon = GFX_goal_ROH_horselords_of_rohan
		available = { }
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 50 }
		x =20
		y =0
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# Unlocks a toggle decision that lets you give +5% investment to ONE region
			# unlock Mearas horse-breed
			add_dynamic_modifier = {
				modifier = realm_cohesion_dynamic_modifer_pol_mil_eco
			}

			set_technology = {
				mearas_horses_module = 1
			}
		}
	}

	focus = {
		id = ROH_deal_with_westmarch
		icon = GFX_goal_ROH_deal_with_westmarch
		relative_position_id = ROH_horselords_of_rohan
		available = {
			rohan_lords_controls_region_4 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 1
			modifier = {
				add = mtth:rohan_lords_region_4_importance
			}
			modifier = {
				factor = 0.5
				OR = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
				}
			}
			modifier = {
				factor = 2
				NOT = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
					has_completed_focus = ROH_call_a_landsmeet
				}
			}
		}
		x =-8
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_horselords_of_rohan }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			country_event = rohanlords.1
		}
	}

	focus = {
		id = ROH_grant_herethain_command
		icon = GFX_goal_ROH_grant_herethain_command
		relative_position_id = ROH_deal_with_westmarch
		available = {
			rohan_horselords_tree_cooldown = yes
			rohan_lords_controls_region_4 = yes ROH_herethain = { is_region_4_leader = yes }
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
		}
		x =-1
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_deal_with_westmarch }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# Give Herethain a unit leader role
			ROH_herethain = {
				add_corps_commander_role = {
					skill = 3
					attack_skill = 2
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 3
					traits = { wormtongue_sympathizer trickster expert_improviser }
				}
			}
		}
	}

	focus = {
		id = ROH_gather_dunelending_volunteers
		icon = GFX_goal_ROH_gather_dunelending_volunteers_barbarians_mercenaries_soldiers
		relative_position_id = ROH_deal_with_westmarch
		available = {
			rohan_horselords_tree_cooldown = yes
			rohan_lords_controls_region_4 = yes
			ROH_herethain = { is_region_4_leader = yes }
			rohan_lords_region_4_demands_met_more_than_2 = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 15 }
		x =-1
		y =2
		mutually_exclusive = { }
		prerequisite = { focus = ROH_grant_herethain_command }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# Get some units or manpower or something
			custom_effect_tooltip = ROH_gather_dunelending_volunteers_tt
			hidden_effect = {
				load_oob = ROH_Dunelending_volunteers	
			}
			DUN = { add_manpower = -1500 }
		}
	}

	focus = {
		id = ROH_grant_erkenbrand_command_over_westmarch
		icon = GFX_goal_ROH_grant_erkenbrand_command
		relative_position_id = ROH_deal_with_westmarch
		available = {
			rohan_horselords_tree_cooldown = yes
			rohan_lords_controls_region_4 = yes ROH_erkenbrand = { is_region_4_leader = yes }
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 10 }
		x =1
		y =2
		mutually_exclusive = { }
		prerequisite = { focus = ROH_deal_with_westmarch }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			if = {
				limit = { NOT = { has_country_flag = roh_erkenbrand_recalled } }
				rohan_lords_recall_erkenbrand_from_retirement = yes
			}
			# Get Erkenbrand as unit leader (unless he is already)
			# Grant him the Lord of the Westmarch trait
			ROH_erkenbrand = {
				add_skill_level = 1
				add_trait = {
					trait = lord_of_the_westmarch
				}
			}
		}
	}

	focus = {
		id = ROH_consolidate_west_under_erkenbrand
		icon = GFX_goal_ROH_consolidate_west_under_erkenbrand
		relative_position_id = ROH_deal_with_westmarch
		available = {
			rohan_lords_controls_region_4 = yes 
			rohan_lords_controls_region_3 = yes 
			ROH_erkenbrand = { is_region_4_leader = yes is_region_3_leader = yes }
			rohan_lords_region_4_demands_met_more_than_2 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 20 }
		x =2
		y =3
		mutually_exclusive = { }
		prerequisite = { focus = ROH_grant_erkenbrand_command_over_westmarch }
		prerequisite = { focus = ROH_grant_erkenbrand_command_over_westemnet }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			ROH_erkenbrand = {
				add_skill_level = 1
				remove_trait = { trait = lord_of_westemnet }
				remove_trait = { trait = lord_of_the_westmarch }
				add_trait = { trait = lord_of_the_west }
			}
			rohan_lords_invest_in_region_4_10p = yes
			rohan_lords_invest_in_region_3_10p = yes
		}
	}

	focus = {
		id = ROH_westmarch_construction_projects
		icon = GFX_goal_ROH_construction_projects
		relative_position_id = ROH_deal_with_westmarch
		available = {
			rohan_horselords_tree_cooldown = yes
			rohan_lords_region_4_demands_met_more_than_2 = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =0
		y =3
		mutually_exclusive = { }
		prerequisite = { focus = ROH_deal_with_westmarch }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# If Fulcanstan is the governor, add a radar aswell, or grant intelligence or smth idk
			23 = {
				add_building_slot_and_civ_x2 = yes
			}
			rohan_lords_invest_in_region_4_5p = yes
			custom_effect_tooltip = ROH_westmarch_construction_projects_tt
			hidden_effect = {
				if = {
					limit = { ROH_fulcanstan = { is_region_4_leader = yes } }
					23 = {
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
					}
				}	
			}
		}
	}

	focus = {
		id = ROH_deal_with_westemnet
		icon = GFX_goal_ROH_deal_with_westemnet
		relative_position_id = ROH_horselords_of_rohan
		available = {
			rohan_lords_controls_region_3 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 1
			modifier = {
				add = mtth:rohan_lords_region_3_importance
			}
			modifier = {
				factor = 0.5
				OR = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
				}
			}
			modifier = {
				factor = 2
				NOT = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
					has_completed_focus = ROH_call_a_landsmeet
				}
			}
		}
		x =-4
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_horselords_of_rohan }
		cost = 5
		completion_reward = {
			set_country_flag = {
				flag = rohan_lords_dealt_with_region
				days = 120
			}
			country_event = rohanlords.2
		}
	}

	focus = {
		id = ROH_appoint_theodreds_successor
		icon = GFX_goal_ROH_appoint_theodreds_successor
		relative_position_id = ROH_deal_with_westemnet
		available = { }
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		bypass = {
			ROH_theodred = {
				NOT = { rohan_lords_is_horselord = yes }
				is_dead = no
			}
		}
		x =0
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_deal_with_westemnet }
		cost = 5
		completion_reward = {
			country_event = rohan.117
		}
	}

	focus = {
		id = ROH_westemnet_industry
		icon = GFX_goal_generic_anvil
		relative_position_id = ROH_deal_with_westemnet
		available = {
			rohan_lords_controls_region_3 = yes
			rohan_lords_region_3_demands_met_more_than_2 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =0
		y =3
		mutually_exclusive = { }
		prerequisite = { focus = ROH_appoint_theodreds_successor }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			custom_effect_tooltip = ROH_westemnet_industry_tt
			# add 1 mil and 1 civ
			# If Fenmund is governor, add 3 civs instead
			hidden_effect = {
				if = {
					limit = { ROH_fenmund = { is_region_3_leader = yes } }
					28 = { add_building_slot_and_civ = yes }
					26 = { add_building_slot_and_civ = yes }
					24 = { add_building_slot_and_civ = yes }
					if = {
						limit = { has_completed_focus = ROH_civilian_factory_focus }
						24 = { add_building_slot_and_civ = yes }
					}
				}
				else = {
					28 = { add_building_slot_and_civ = yes }
					26 = { add_building_slot_and_mil = yes }
					if = {
						limit = { has_completed_focus = ROH_civilian_factory_focus }
						28 = { add_building_slot_and_civ = yes }
					}
					else_if = {
						limit = { has_completed_focus = ROH_military_factory_focus }
						26 = { add_building_slot_and_mil = yes }
					}
				}
			}
		}
	}

	focus = {
		id = ROH_grant_erkenbrand_command_over_westemnet
		icon = GFX_goal_ROH_grant_erkenbrand_command
		relative_position_id = ROH_deal_with_westemnet
		available = {
			rohan_lords_controls_region_3 = yes
			ROH_erkenbrand = { is_region_3_leader = yes }
			rohan_horselords_tree_cooldown = yes
			ROH_erkenbrand = { is_dead = no }
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 10 }
		x =-1
		y =2
		mutually_exclusive = { }
		prerequisite = { focus = ROH_appoint_theodreds_successor }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# Make Erkenbrand field marshal (unless he is already)
			# Give him the Lord of the Westemnet trait
			if = {
				limit = { NOT = { has_country_flag = roh_erkenbrand_recalled } }
				rohan_lords_recall_erkenbrand_from_retirement = yes
			}
			# Get Erkenbrand as unit leader (unless he is already)
			# Grant him the Lord of the Westmarch trait
			ROH_erkenbrand = {
				add_skill_level = 1
				add_trait = {
					trait = lord_of_westemnet
				}
			}
		}
	}

	focus = {
		id = ROH_concessions_to_isengard
		icon = GFX_goal_ROH_concessions_to_isengard_saruman
		relative_position_id = ROH_deal_with_westemnet
		available = {
			rohan_lords_controls_region_3 = yes
			ROH_frumbold = { is_region_3_leader = yes }
			rohan_horselords_tree_cooldown = yes
			ISE = { has_government = belligerent }
			NOT = { has_war_with = ISE }
			NOT = { is_ally_with = ISE }
			NOT = { is_subject_of = ISE }
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 15
			modifier = {
				factor = 3
				has_country_flag = gameplan_rush_isengard_concessions
			}
		}
		x =1
		y =2
		mutually_exclusive = { }
		prerequisite = { focus = ROH_appoint_theodreds_successor }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# Give Isengard some stuff, make it so that if Isengard declares war, they get some hefty debuffs at the start
			hidden_effect = {
				ISE = { country_event = rohan.91 }
			}
			event_option_tooltip = rohan.91.a
		}
	}

	focus = {
		id = ROH_deal_with_the_wold
		icon = GFX_goal_ROH_deal_with_the_wold
		relative_position_id = ROH_horselords_of_rohan
		available = {
			rohan_lords_controls_region_1 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 1
			modifier = {
				add = mtth:rohan_lords_region_1_importance
			}
			modifier = {
				factor = 0.5
				OR = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
				}
			}
			modifier = {
				factor = 2
				NOT = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
					has_completed_focus = ROH_call_a_landsmeet
				}
			}
		}
		x =0
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_horselords_of_rohan }
		cost = 5
		completion_reward = {
			set_country_flag = {
				flag = rohan_lords_dealt_with_region
				days = 120
			}
			country_event = rohanlords.5
		}
	}

	focus = {
		id = ROH_wold_build_supplyline
		icon = GFX_goal_ROH_wold_build_supplyline
		relative_position_id = ROH_deal_with_the_wold
		available = {
			rohan_horselords_tree_cooldown = yes
			rohan_lords_controls_region_1 = yes
			ROH_derngar = { is_region_1_leader = yes }
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =-2
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_deal_with_the_wold }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			hidden_effect = {
				build_railway = {
					level = 1
					start_province = 4103
					target_province = 6441
					build_only_on_allied = yes
				}
				180 = {
					add_building_construction = {
						type = supply_node
						level = 1
						instant_build = yes
						province = 6441
					}
				}
				178 = {
					add_building_construction = {
						type = supply_node
						level = 1
						instant_build = yes
						province = 3594
					}
				}
			}
			custom_effect_tooltip = ROH_wold_build_supplyline_tt
		}
	}

	focus = {
		id = ROH_wold_breadbasker
		icon = GFX_goal_generic_farming_wheat_grain_agriculture
		relative_position_id = ROH_deal_with_the_wold
		available = {
			rohan_horselords_tree_cooldown = yes
			rohan_lords_controls_region_1 = yes
			ROH_frumdor = { is_region_1_leader = yes }
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =0
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_deal_with_the_wold }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			30 = {
				add_resource = { type = oil amount = 10 }
			}
			180 = {
				add_resource = { type = oil amount = 3 }
			}
			178 = {
				add_resource = { type = oil amount = 5 }
			}
		}
	}

	focus = {
		id = ROH_wold_ties_with_lothlorien
		icon = GFX_goal_ROH_wold_ties_with_lothlorien
		relative_position_id = ROH_deal_with_the_wold
		available = {
			rohan_horselords_tree_cooldown = yes
			rohan_lords_controls_region_1 = yes
			ROH_gamgar = { is_region_1_leader = yes }
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =2
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_deal_with_the_wold }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# loth relations
			LTH = { send_delegation_to_country = yes }
		}
	}

	focus = {
		id = ROH_wold_improve_infrastructure
		icon = GFX_goal_ROH_wold_improve_infrastructure
		relative_position_id = ROH_deal_with_the_wold
		available = {
			rohan_lords_controls_region_1 = yes
			rohan_lords_region_1_demands_met_more_than_2 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =0
		y =3
		mutually_exclusive = { }
		prerequisite = { focus = ROH_wold_ties_with_lothlorien focus = ROH_wold_breadbasker focus = ROH_wold_build_supplyline }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# add infrastructure
			30 = { add_building_construction = { type = infrastructure level = 1 instant_build = yes } }
			179 = { add_building_construction = { type = infrastructure level = 1 instant_build = yes } }
			180 = { add_building_construction = { type = infrastructure level = 1 instant_build = yes } }
			178 = { add_building_construction = { type = infrastructure level = 1 instant_build = yes } }
		}
	}

	focus = {
		id = ROH_deal_with_eastemnet
		icon = GFX_goal_ROH_deal_with_eastemnet
		relative_position_id = ROH_horselords_of_rohan
		available = {
			rohan_lords_controls_region_2 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 1
			modifier = {
				add = mtth:rohan_lords_region_2_importance
			}
			modifier = {
				factor = 0.5
				OR = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
				}
			}
			modifier = {
				factor = 2
				NOT = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
					has_completed_focus = ROH_call_a_landsmeet
				}
			}
		}
		x =4
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_horselords_of_rohan }
		cost = 5
		completion_reward = {
			set_country_flag = {
				flag = rohan_lords_dealt_with_region
				days = 120
			}
			country_event = rohanlords.4
		}
	}

	focus = {
		id = ROH_eastemnet_resource_exploitation
		icon = GFX_goal_ROH_eastemnet_resource_exploitation_steel_production
		relative_position_id = ROH_deal_with_eastemnet
		available = {
			rohan_lords_controls_region_2 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =0
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_deal_with_eastemnet }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			27 = {
				add_resource = {
					type = chromium
					amount = 8
				}
				add_resource = {
					type = tungsten
					amount = 8
				}
			}
			182 = {
				add_resource = {
					type = steel
					amount = 12
				}
			}
		}
	}

	focus = {
		id = ROH_eastemnet_tax_collection
		icon = GFX_goal_ROH_eastemnet_tax_collection_gold_coin
		relative_position_id = ROH_deal_with_eastemnet
		available = {
			rohan_lords_region_2_demands_met_more_than_2 = yes
			rohan_lords_controls_region_2 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =-1
		y =3
		mutually_exclusive = { focus = ROH_eastemnet_long_term_investment }
		prerequisite = { focus = ROH_eastemnet_resource_exploitation }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# Get some (maybe 2) civs (outside of eastemnet) but no investments
			27 = {
				add_building_slot_and_civ_x2 = yes
			}
		}
	}

	focus = {
		id = ROH_eastemnet_long_term_investment
		icon = GFX_goal_ROH_eastemnet_long_term_investment_goldd_coin
		relative_position_id = ROH_deal_with_eastemnet
		available = {
			rohan_lords_region_2_demands_met_more_than_2 = yes
			rohan_lords_controls_region_2 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =1
		y =3
		mutually_exclusive = { focus = ROH_eastemnet_tax_collection }
		prerequisite = { focus = ROH_eastemnet_resource_exploitation }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# Add strong (maybe 15%) investment
			rohan_lords_invest_in_region_2_15p = yes
		}
	}

	focus = {
		id = ROH_deal_with_eastfold
		icon = GFX_goal_ROH_deal_with_eastfold
		relative_position_id = ROH_horselords_of_rohan
		available = {
			rohan_lords_controls_region_5 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 1
			modifier = {
				add = mtth:rohan_lords_region_5_importance
			}
			modifier = {
				factor = 0.5
				OR = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
				}
			}
			modifier = {
				factor = 2
				NOT = {
					has_completed_focus = ROH_deal_with_westmarch
					has_completed_focus = ROH_deal_with_westemnet
					has_completed_focus = ROH_deal_with_the_wold
					has_completed_focus = ROH_deal_with_eastemnet
					has_completed_focus = ROH_deal_with_eastfold
					has_completed_focus = ROH_call_a_landsmeet
				}
			}
		}
		x =8
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_horselords_of_rohan }
		cost = 5
		completion_reward = {
			set_country_flag = {
				flag = rohan_lords_dealt_with_region
				days = 120
			}
			country_event = rohanlords.3
		}
	}

	focus = {
		id = ROH_eastfold_civilian_industry
		icon = GFX_goal_generic_windmill
		relative_position_id = ROH_deal_with_eastfold
		available = {
			rohan_lords_region_5_demands_met_more_than_2 = yes
			rohan_lords_controls_region_5 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =1
		y =3
		mutually_exclusive = { focus = ROH_eastfold_military_industry }
		prerequisite = { focus = ROH_deal_with_eastfold }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# add civs and some investment
			25 = { add_building_slot_and_civ = yes }
			181 = { add_building_slot_and_civ = yes }
			if = {
				limit = { has_completed_focus = ROH_civilian_factory_focus }
				181 = { add_building_slot_and_civ = yes }
			}
			rohan_lords_invest_in_region_5_10p = yes
		}
	}

	focus = {
		id = ROH_eastfold_military_industry
		icon = GFX_goal_generic_anvil
		relative_position_id = ROH_deal_with_eastfold
		available = {
			rohan_lords_region_5_demands_met_more_than_2 = yes
			rohan_lords_controls_region_5 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_completed_focus = ROH_call_a_landsmeet }
			}
		}
		x =-1
		y =3
		mutually_exclusive = { focus = ROH_eastfold_civilian_industry }
		prerequisite = { focus = ROH_deal_with_eastfold }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# Add a couple of mils and some investment
			25 = { add_building_slot_and_mil = yes }
			181 = { add_building_slot_and_mil = yes }
			rohan_lords_invest_in_region_5_10p = yes
		}
	}

	focus = {
		id = ROH_eastfold_fortify_the_border
		icon = GFX_goal_lth_fortifications_castle
		relative_position_id = ROH_deal_with_eastfold
		available = {
			rohan_lords_region_5_demands_met_more_than_2 = yes
			rohan_lords_controls_region_5 = yes
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				is_going_belligerent = yes
			}
			modifier = {
				factor = 2
				GON = { we_dont_like_them = yes }
			}
		}
		x =0
		y =2
		mutually_exclusive = { }
		prerequisite = { focus = ROH_deal_with_eastfold }
		cost = 5
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			custom_effect_tooltip = ROH_eastfold_fortify_the_border_tt
			# add some fortifications
			hidden_effect = {
				181 = {
					add_building_construction = { type = bunker level = 2 province = 5135 }
					add_building_construction = { type = bunker level = 2 province = 6867 }
					add_building_construction = { type = bunker level = 2 province = 4106 }
					add_building_construction = { type = bunker level = 2 province = 1709 }
				}
				25 = {
					add_building_construction = { type = bunker level = 2 province = 791 }
					add_building_construction = { type = bunker level = 2 province = 377 }

					add_building_construction = { type = castle level = 2 province = 377 }

					set_victory_points = {
						province = 2843
						value = 8
					}
				}
			}
		}
	}

	focus = {
		id = ROH_call_a_landsmeet
		icon = GFX_goal_ROH_call_a_landsmeet_assembly_gathering
		relative_position_id = ROH_horselords_of_rohan
		available = {
			rohan_horselords_tree_cooldown = yes
			OR = {
				rohan_lords_controls_region_1 = yes
				rohan_lords_controls_region_2 = yes
				rohan_lords_controls_region_3 = yes
				rohan_lords_controls_region_4 = yes
				rohan_lords_controls_region_5 = yes
			}
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		cancelable = no
		cancel_if_invalid = no
		continue_if_invalid = yes
		ai_will_do = { factor = 35 }
		x =0
		y =5
		mutually_exclusive = { }
		prerequisite = { focus = ROH_westmarch_construction_projects focus = ROH_westemnet_industry focus = ROH_wold_improve_infrastructure focus = ROH_eastemnet_tax_collection focus = ROH_eastemnet_long_term_investment focus = ROH_eastfold_military_industry focus = ROH_eastfold_civilian_industry }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			custom_effect_tooltip = ROH_call_a_landsmeet_tt
		}
		select_effect = {
			hidden_effect = {
				country_event = { id = rohan.93 days = 14 }
				country_event = { id = rohan.93 days = 50 }
			}
		}
	}

	focus = {
		id = ROH_military_consolidation
		icon = GFX_goal_ROH_military_consolidation
		relative_position_id = ROH_call_a_landsmeet
		available = {
			rohan_horselords_tree_cooldown = yes
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_manpower < 10000
			}
			modifier = {
				factor = 3
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		x =0
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_call_a_landsmeet }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			custom_effect_tooltip = ROH_military_consolidation_tt
			hidden_effect = {
				if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_mil } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_mil
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer
					}
				}
				else_if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_pol_mil } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol_mil
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol
					}
				}
				else_if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_eco_mil } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_eco_mil
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_eco
					}
				}
				else_if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_pol_mil_eco } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol_mil_eco
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol_eco
					}
				}
			}
		}
	}

	focus = {
		id = ROH_call_the_banners
		icon = GFX_goal_ROH_call_the_banners
		relative_position_id = ROH_military_consolidation
		available = {
			has_war = yes
			rohan_horselords_tree_cooldown = yes
			OR = {
				rohan_lords_controls_region_1 = yes
				rohan_lords_controls_region_2 = yes
				rohan_lords_controls_region_3 = yes
				rohan_lords_controls_region_4 = yes
				rohan_lords_controls_region_5 = yes
			}
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				any_enemy_country = {
					is_stronger = yes
				}
			}
			modifier = {
				factor = 2
				surrender_progress > 0.05
			}
			modifier = {
				factor = 2
				num_divisions < 30
			}
		}
		x =0
		y =2
		mutually_exclusive = { }
		prerequisite = { focus = ROH_military_consolidation }
		cost = 5
		available_if_capitulated = no
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# Get 1-2 divisons from every region with good approval
			custom_effect_tooltip = ROH_call_the_banners_tt

			division_template = {
				name = "Summoned Banner"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}

			division_template = {
				name = "Summoned Banner (Elite)"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
					artillery_brigade = { x = 3 y = 0 }
				}
				support = {
					artillery = { x = 0 y = 0 }
					engineer = { x = 0 y = 0 }
				}
			}

			if = {
				limit = { check_variable = { region_1_demands_met > 3 } controls_state = 30 }
				custom_effect_tooltip = roh_call_banners_region_1_elite_tt
				hidden_effect = {
					30 = {
						create_unit = {
							division = "name = \"Men of the Wold\" division_template = \"Summoned Banner\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = { check_variable = { region_1_demands_met > 2 } controls_state = 30 }
				custom_effect_tooltip = roh_call_banners_region_1_basic_tt
				hidden_effect = {
					30 = {
						create_unit = {
							division = "name = \"Men of the Wold\" division_template = \"Summoned Banner (Elite)\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = { is_ai = yes controls_state = 30 }
				hidden_effect = {
					30 = {
						create_unit = {
							division = "name = \"Men of the Wold\" division_template = \"Summoned Banner (Elite)\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			if = {
				limit = { check_variable = { region_2_demands_met > 3 } controls_state = 27 }
				custom_effect_tooltip = roh_call_banners_region_2_elite_tt
				hidden_effect = {
					27 = {
						create_unit = {
							division = "name = \"Men of the Eastemnet\" division_template = \"Summoned Banner\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = { check_variable = { region_2_demands_met > 2 } controls_state = 27 }
				custom_effect_tooltip = roh_call_banners_region_2_basic_tt
				hidden_effect = {
					27 = {
						create_unit = {
							division = "name = \"Men of the Eastemnet\" division_template = \"Summoned Banner (Elite)\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = { is_ai = yes controls_state = 27 }
				hidden_effect = {
					27 = {
						create_unit = {
							division = "name = \"Men of the Wold\" division_template = \"Summoned Banner (Elite)\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			if = {
				limit = { check_variable = { region_3_demands_met > 3 } controls_state = 28 }
				custom_effect_tooltip = roh_call_banners_region_3_elite_tt
				hidden_effect = {
					28 = {
						create_unit = {
							division = "name = \"Men of the Westemnet\" division_template = \"Summoned Banner\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = { check_variable = { region_3_demands_met > 2 } controls_state = 28 }
				custom_effect_tooltip = roh_call_banners_region_3_basic_tt
				hidden_effect = {
					28 = {
						create_unit = {
							division = "name = \"Men of the Westemnet\" division_template = \"Summoned Banner (Elite)\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = { is_ai = yes controls_state = 28 }
				hidden_effect = {
					28 = {
						create_unit = {
							division = "name = \"Men of the Wold\" division_template = \"Summoned Banner (Elite)\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			if = {
				limit = { check_variable = { region_4_demands_met > 3 } controls_state = 23 }
				custom_effect_tooltip = roh_call_banners_region_4_elite_tt
				hidden_effect = {
					23 = {
						create_unit = {
							division = "name = \"Men of the Westmarch\" division_template = \"Summoned Banner\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = { check_variable = { region_4_demands_met > 2 } controls_state = 23 }
				custom_effect_tooltip = roh_call_banners_region_4_basic_tt
				hidden_effect = {
					23 = {
						create_unit = {
							division = "name = \"Men of the Westmarch\" division_template = \"Summoned Banner (Elite)\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = { is_ai = yes controls_state = 23 }
				hidden_effect = {
					23 = {
						create_unit = {
							division = "name = \"Men of the Wold\" division_template = \"Summoned Banner (Elite)\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			if = {
				limit = { check_variable = { region_5_demands_met > 3 } controls_state = 25 }
				custom_effect_tooltip = roh_call_banners_region_5_elite_tt
				hidden_effect = {
					25 = {
						create_unit = {
							division = "name = \"Men of the Eastfold\" division_template = \"Summoned Banner\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
			else_if = {
				limit = { check_variable = { region_5_demands_met > 2 } controls_state = 25 }
				custom_effect_tooltip = roh_call_banners_region_5_basic_tt
				hidden_effect = {
					25 = {
						create_unit = {
							division = "name = \"Men of the Eastfold\" division_template = \"Summoned Banner (Elite)\" start_manpower_factor = 1.0"
							owner = ROH
							count = 2
						}
					}
				}
			}
		}
	}

	focus = {
		id = ROH_political_consolidation
		icon = GFX_goal_ROH_political_consolidation
		relative_position_id = ROH_call_a_landsmeet
		available = {
			rohan_horselords_tree_cooldown = yes
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				political_power_daily < 1
			}
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		x =-4
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_call_a_landsmeet }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			custom_effect_tooltip = ROH_political_consolidation_tt
			# Allow us to go above Strong centralization
			hidden_effect = {
				if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_pol } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer
					}
				}
				else_if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_pol_mil } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol_mil
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_mil
					}
				}
				else_if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_pol_eco } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol_eco
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_eco
					}
				}
				else_if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_pol_mil_eco } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol_mil_eco
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_eco_mil
					}
				}
			}
		}
	}

	focus = {
		id = ROH_political_propaganda
		icon = GFX_goal_goal_generic_political_pressure
		relative_position_id = ROH_political_consolidation
		available = {
			rohan_horselords_tree_cooldown = yes
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_stability < 0.5
			}
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		x =-1
		y =1
		mutually_exclusive = { focus = ROH_suppress_opposition }
		prerequisite = { focus = ROH_political_consolidation }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			if = {
				limit = { has_government = belligerent }
				add_popularity = { ideology = belligerent popularity = 0.1 }
			}
			else_if = {
				limit = { has_government = revolutionary }
				add_popularity = { ideology = revolutionary popularity = 0.1 }
			}
			else_if = {
				limit = { has_government = cooperative }
				add_popularity = { ideology = cooperative popularity = 0.1 }
			}
			else_if = {
				limit = { has_government = unaligned }
				add_popularity = { ideology = unaligned popularity = 0.1 }
			}
		}
	}

	focus = {
		id = ROH_suppress_opposition
		icon = GFX_goal_generic_suppression_oppression
		relative_position_id = ROH_political_consolidation
		available = {
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 7 }
		x =1
		y =1
		mutually_exclusive = { focus = ROH_political_propaganda }
		prerequisite = { focus = ROH_political_consolidation }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			add_political_power = 150 # Award for the most creative focus effect goes to...
		}
	}

	focus = {
		id = ROH_wartime_centralization
		icon = GFX_goal_ROH_wartime_centralization_crown_and_military
		relative_position_id = ROH_political_consolidation
		available = {
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 5 }
		x =0
		y =2
		mutually_exclusive = { }
		prerequisite = { focus = ROH_suppress_opposition focus = ROH_political_propaganda }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# unlock decision
			add_stability = 0.05
			set_variable = { wartime_taxation_malus = -0.01 }
			unlock_decision_tooltip = ROH_wartime_taxation
			custom_effect_tooltip = ROH_wartime_centralization_tt
		}
	}

	focus = {
		id = ROH_economic_consolidation
		icon = GFX_goal_generic_gold_standard
		relative_position_id = ROH_call_a_landsmeet
		available = {
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				num_of_civilian_factories < 15
			}
			modifier = {
				factor = 2
				num_of_civilian_factories < 25
			}
			modifier = {
				factor = 2
				num_of_civilian_factories < 50
			}
		}
		x =4
		y =1
		mutually_exclusive = { }
		prerequisite = { focus = ROH_call_a_landsmeet }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# Allow us to go higher than medium taxes
			custom_effect_tooltip = ROH_economic_consolidation_tt
			# Allow us to go above Strong centralization
			hidden_effect = {
				if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_eco } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_eco
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer
					}
				}
				else_if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_eco_mil } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_eco_mil
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_mil
					}
				}
				else_if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_pol_eco } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol_eco
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol
					}
				}
				else_if = {
					limit = { has_dynamic_modifier = { modifier = realm_cohesion_dynamic_modifer_pol_mil_eco } }
					remove_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol_mil_eco
					}
					add_dynamic_modifier = {
						modifier = realm_cohesion_dynamic_modifer_pol_mil
					}
				}
			}
		}
	}

	focus = {
		id = ROH_broad_investments
		icon = GFX_goal_generic_gold_money
		relative_position_id = ROH_economic_consolidation
		available = {
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 7 }
		x =-1
		y =1
		mutually_exclusive = { focus = ROH_selective_investments }
		prerequisite = { focus = ROH_economic_consolidation }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# All regions get a little investment
			if = {
				limit = { rohan_lords_controls_region_1 = yes }
				rohan_lords_invest_in_region_1_5p = yes
			}
			if = {
				limit = { rohan_lords_controls_region_2 = yes }
				rohan_lords_invest_in_region_2_5p = yes
			}
			if = {
				limit = { rohan_lords_controls_region_3 = yes }
				rohan_lords_invest_in_region_3_5p = yes
			}
			if = {
				limit = { rohan_lords_controls_region_4 = yes }
				rohan_lords_invest_in_region_4_5p = yes
			}
			if = {
				limit = { rohan_lords_controls_region_5 = yes }
				rohan_lords_invest_in_region_5_5p = yes
			}
		}
	}

	focus = {
		id = ROH_selective_investments
		icon = GFX_goal_generic_gold_money
		relative_position_id = ROH_economic_consolidation
		available = {
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 0 } # By leaving this as 0, I won't have to bother implementing ai-usage on the decisions :bigbrain:
		x =1
		y =1
		mutually_exclusive = { focus = ROH_broad_investments }
		prerequisite = { focus = ROH_economic_consolidation }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# get event that lets us select one region for a large investment
			custom_effect_tooltip = ROH_selective_investments_tt
			hidden_effect = {
				country_event = rohan.92
			}
		}
	}

	focus = {
		id = ROH_wartime_economy
		icon = GFX_goal_ROH_wartime_economy_blacksmith_forging
		relative_position_id = ROH_economic_consolidation
		available = {
			rohan_horselords_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_LORDS }
		ai_will_do = { factor = 5 }
		x =0
		y =2
		mutually_exclusive = { }
		prerequisite = { focus = ROH_selective_investments focus = ROH_broad_investments }
		cost = 10
		completion_reward = {
			rohan_set_horselords_cooldown = yes
			# unlock decision
			add_war_support = 0.05
			set_variable = { wartime_political_measures_malus = -0.01 }
			unlock_decision_tooltip = ROH_wartime_political_measures
			custom_effect_tooltip = ROH_wartime_economy_tt
		}
	}


	# TECH TREE STUFF

	focus = {
		id = ROH_knowledge_and_statescraft
		icon = GFX_goal_lth_adminstration
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				date < "3019.1.1"
			}
		}
		x =38
		y =0
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_knowledge_scriptorium
					uses = 3
					bonus = 0.35
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_knowledge_scriptorium
					uses = 2
					bonus = 0.35
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_knowledge_scriptorium
					uses = 2
					bonus = 0.35
				}
			}
		}
	}

	focus = {
		id = ROH_rural_development
		icon = GFX_goal_ROH_rural_development_construction
		relative_position_id = ROH_knowledge_and_statescraft
		prerequisite = { focus = ROH_knowledge_and_statescraft }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 15 }
		x =-2
		y =1
		mutually_exclusive = { focus = ROH_urban_development }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# something nice with rural states
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_construction_industry_dispersed
					uses = 2
					bonus = 0.5
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_construction_industry_dispersed
					uses = 1
					bonus = 0.5
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_construction_industry_dispersed
					uses = 1
					bonus = 0.5
				}
			}
		}
	}

	focus = {
		id = ROH_agricultural_reforms
		icon = GFX_goal_ROH_agricultural_reforms_farming
		relative_position_id = ROH_rural_development
		prerequisite = { focus = ROH_rural_development }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 3 }
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# agriculture tech bonuses
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_farming
					uses = 2
					bonus = 0.5
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_farming
					uses = 1
					bonus = 0.5
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_farming
					uses = 1
					bonus = 0.5
				}
			}
		}
	}

	focus = {
		id = ROH_expand_grain_stores
		icon = GFX_goal_ROH_expand_grain_stores_wheat_farming_agr
		relative_position_id = ROH_rural_development
		prerequisite = { focus = ROH_agricultural_reforms }
		available = {
			num_of_controlled_states > 2
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 3 }
		x =-1
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# build a bunch of silos
			random_owned_state = {
				limit = { fuel_silo < 1 }
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = { fuel_silo < 1 }
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ROH_urban_development
		icon = GFX_goal_ROH_urban_development_construction
		relative_position_id = ROH_knowledge_and_statescraft
		prerequisite = { focus = ROH_knowledge_and_statescraft }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 15 }
		x =2
		y =1
		mutually_exclusive = { focus = ROH_rural_development }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_construction_industry_concentrated
					uses = 2
					bonus = 0.75
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_construction_industry_concentrated
					uses = 1
					bonus = 0.75
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_construction_industry_concentrated
					uses = 1
					bonus = 0.75
				}
			}
		}
	}

	focus = {
		id = ROH_road_network_expansion
		icon = GFX_goal_ROH_road_network_expansion
		relative_position_id = ROH_rural_development
		prerequisite = { focus = ROH_rural_development focus = ROH_urban_development }
		available = {
			rohan_research_tree_cooldown = yes
			num_of_controlled_states > 3
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 20 }
		x =2
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			custom_effect_tooltip = ROH_road_network_expansion_tt
			# increase infrastrucure, maybe add some railways
			hidden_effect = {
				if = {
					limit = { controls_state = 177 controls_state = 182 }
					build_railway = {
						level = 1
						start_province = 4227
						target_province = 3517
						build_only_on_allied = yes
					}
				}
				if = {
					limit = { controls_state = 30 controls_state = 178 }
					build_railway = {
						level = 1
						start_province = 1910
						target_province = 6563
						build_only_on_allied = yes
					}
					build_railway = {
						level = 1
						start_province = 1910
						target_province = 495
						build_only_on_allied = yes
					}
					30 = {
						add_building_construction = {
							type = supply_node
							level = 1
							instant_build = yes
							province = 1910
						}
					}
					30 = {
						add_building_construction = {
							type = supply_node
							level = 1
							instant_build = yes
							province = 6563
						}
					}
				}
				if = {
					limit = { controls_state = 178 controls_state = 26 }
					build_railway = {
						level = 2
						start_province = 495
						target_province = 5512
						build_only_on_allied = yes
					}
				}
				if = {
					limit = { controls_state = 183 controls_state = 26 }
					build_railway = {
						level = 1
						start_province = 6760
						target_province = 5512
						build_only_on_allied = yes
					}
				}
			}
		}
	}

	focus = {
		id = ROH_edoras_markets
		icon = GFX_goal_ROH_edoras_markets
		relative_position_id = ROH_urban_development
		prerequisite = { focus = ROH_urban_development }
		available = {
			rohan_research_tree_cooldown = yes
			controls_state = 183
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 3 }
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# add market to edoras, maybe some trade bonus and market subsidies
			183 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = markets
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { has_dlc = "Arms Against Tyranny" }
				add_cic = 500
			}
			else = {
				random_owned_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = { has_completed_focus = ROH_civilian_factory_focus }
					random_state_add_building_slot_and_civ = yes
				}
			}
		}
	}

	focus = {
		id = ROH_integrate_the_settlements
		icon = GFX_goal_ROH_integrate_the_settlements
		relative_position_id = ROH_urban_development
		prerequisite = { focus = ROH_edoras_markets }
		available = {
			num_of_controlled_states > 2
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = {
			factor = 2
		}
		x =1
		y =3
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# build infra in places where there is none
			random_core_state = {
				limit = { is_controlled_by = ROOT infrastructure < 3 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_core_state = {
				limit = { is_controlled_by = ROOT infrastructure < 3 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ROH_advanced_cavalry_tactics 
		icon = GFX_goal_goal_generic_cavalry
		relative_position_id = ROH_knowledge_and_statescraft
		prerequisite = { focus = ROH_knowledge_and_statescraft }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 5 }
		x =-6
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# bonus to doctrine and cav research
			add_tech_bonus = {
				name = special_bonus
				category = cat_mobile_warfare
				bonus = 0.5
				uses = 2
			}
			swap_ideas = {
				remove_idea = ROH_advanced_cavalry_tactics
				add_idea = ROH_advanced_cavalry_tactics_2
			}
		}
	}

	focus = {
		id = ROH_heavy_cavalry
		icon = GFX_goal_ROH_heavy_cavalry_horse_armor
		relative_position_id = ROH_advanced_cavalry_tactics 
		prerequisite = { focus = ROH_advanced_cavalry_tactics }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				OR = {
					target_heavy_cav_strat = yes
					target_heavy_cav_chariots_strat = yes
				}
			}
		}
		x =-1
		y =1
		mutually_exclusive = { focus = ROH_light_cavalry }
		cost = 5
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# big heavy cav research bonus
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_cavalry_heavy
					uses = 2
					bonus = 0.75
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_cavalry_heavy
					uses = 1
					bonus = 1.0
					ahead_reduction = 0.75
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_cavalry_heavy
					uses = 1
					bonus = 0.75
				}
			}
		}
	}

	focus = {
		id = ROH_shock_cavalry
		icon = GFX_goal_ROH_heavy_cavalry_horse_armor
		relative_position_id = ROH_advanced_cavalry_tactics 
		prerequisite = { focus = ROH_heavy_cavalry }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 1 }
		x =-1
		y =3
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			swap_ideas = {
				remove_idea = ROH_advanced_cavalry_tactics_2
				add_idea = ROH_advanced_cavalry_tactics_heavy
			}
		}
	}

	focus = {
		id = ROH_light_cavalry
		icon = GFX_goal_ROH_light_cavalry_horse
		relative_position_id = ROH_advanced_cavalry_tactics 
		prerequisite = { focus = ROH_advanced_cavalry_tactics }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				target_light_cav_strat = yes
			}
		}
		x =1
		y =1
		mutually_exclusive = { focus = ROH_heavy_cavalry }
		cost = 5
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# big light cav research bonus
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_cavalry_light
					uses = 2
					bonus = 0.75
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_cavalry_light
					uses = 1
					bonus = 0.75
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_cavalry_light
					uses = 1
					bonus = 0.75
				}
			}
		}
	}

	focus = {
		id = ROH_mounted_skirmishers
		icon = GFX_goal_ROH_light_cavalry_horse
		relative_position_id = ROH_advanced_cavalry_tactics 
		prerequisite = { focus = ROH_light_cavalry }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 1 }
		x =1
		y =3
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			swap_ideas = {
				remove_idea = ROH_advanced_cavalry_tactics_2
				add_idea = ROH_advanced_cavalry_tactics_light
			}
		}
	}

	focus = {
		id = ROH_strengthen_the_royal_guard
		icon = GFX_goal_lth_elven_cavalry
		relative_position_id = ROH_advanced_cavalry_tactics 
		prerequisite = { focus = ROH_advanced_cavalry_tactics }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 5 }
		x =0
		y =2
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# improve the royal guard division
			improve_royal_guard = yes
		}
	}

	focus = {
		id = ROH_horse_breeding_program
		icon = GFX_goal_generic_horse_studs
		relative_position_id = ROH_advanced_cavalry_tactics 
		prerequisite = { focus = ROH_strengthen_the_royal_guard }
		prerequisite = { focus = ROH_shock_cavalry focus = ROH_mounted_skirmishers }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 2 }
		x =0
		y =4
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# lower horse production rate
			if = {
				limit = { has_idea = ROH_advanced_cavalry_tactics_light }
				swap_ideas = {
					remove_idea = ROH_advanced_cavalry_tactics_light
					add_idea = ROH_advanced_cavalry_tactics_light_2
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ROH_advanced_cavalry_tactics_heavy
					add_idea = ROH_advanced_cavalry_tactics_heavy_2
				}
			}
		}
	}

	focus = {
		id = ROH_ride_of_the_rohirrim
		icon = GFX_goal_ROH_ride_of_the_rohirrim_cavalry
		relative_position_id = ROH_advanced_cavalry_tactics 
		prerequisite = { focus = ROH_horse_breeding_program }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 3 }
		x =0
		y =5
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			if = {
				limit = { has_idea = ROH_advanced_cavalry_tactics_light_2 }
				swap_ideas = {
					remove_idea = ROH_advanced_cavalry_tactics_light_2
					add_idea = ROH_advanced_cavalry_tactics_light_3
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ROH_advanced_cavalry_tactics_heavy_2
					add_idea = ROH_advanced_cavalry_tactics_heavy_3
				}
			}
		}
	}

	focus = {
		id = ROH_construction_projects
		icon = GFX_goal_ROH_construction_projects
		relative_position_id = ROH_knowledge_and_statescraft
		prerequisite = { focus = ROH_knowledge_and_statescraft }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 5 }
		x =6
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# construction research bonus
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_construction
					uses = 2
					bonus = 0.75
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_construction
					uses = 1
					bonus = 0.75
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_construction
					uses = 1
					bonus = 0.75
				}
			}
		}
	}

	focus = {
		id = ROH_limestone_bricks
		icon = GFX_goal_generic_anvil
		relative_position_id = ROH_construction_projects
		prerequisite = { focus = ROH_construction_projects }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 5 }
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# civ construction speed
			add_timed_idea = {
				idea = limestone_bricks
				days = 370
			}
		}
	}

	focus = {
		id = ROH_smock_mills
		icon = GFX_goal_generic_windmill
		relative_position_id = ROH_construction_projects
		prerequisite = { focus = ROH_construction_projects }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 5 }
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# mil output
			add_timed_idea = {
				idea = smock_mills
				days = 370
			}
		}
	}

	focus = {
		id = ROH_military_construction
		icon = GFX_goal_generic_anvil
		relative_position_id = ROH_construction_projects
		prerequisite = { focus = ROH_construction_projects }
		available = {
			num_of_controlled_states > 2
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 7 }
		x =-1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# add mils
			random_state_add_building_slot_and_mil_x4 = yes
			if = {
				limit = { has_completed_focus = ROH_military_factory_focus }
				random_state_add_building_slot_and_mil = yes
			}
		}
	}

	focus = {
		id = ROH_civilian_construction
		icon = GFX_goal_generic_windmill
		relative_position_id = ROH_construction_projects
		prerequisite = { focus = ROH_construction_projects }
		available = {
			num_of_controlled_states > 2
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 7 }
		x =1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# add civs
			random_state_add_building_slot_and_civ_x4 = yes
			if = {
				limit = { has_completed_focus = ROH_civilian_factory_focus }
				random_state_add_building_slot_and_civ = yes
			}
		}
	}

	focus = {
		id = ROH_siege_works
		icon = GFX_goal_generic_siege_equipment
		relative_position_id = ROH_construction_projects
		prerequisite = { focus = ROH_construction_projects }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				OR = {
					target_siege_machines_strat = yes
					target_catapults_strat = yes
				}
			}
		}
		x =0
		y =4
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# siege research bonus
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_machines
					uses = 2
					bonus = 0.75
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_machines
					uses = 1
					bonus = 0.75
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_machines
					uses = 1
					bonus = 0.75
				}
			}
		}
	}

	focus = {
		id = ROH_replicate_numenorean_castles
		icon = GFX_goal_ROH_replicate_numenorean_castles
		relative_position_id = ROH_siege_works
		prerequisite = { focus = ROH_siege_works }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 2 }
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# get better castle contruction depending on how many castles gondor has in minas tirith
			if = {
				limit = { 163 = { is_controlled_by = GON } castle > 2 }
				custom_effect_tooltip = ROH_replicate_numenorean_castles_3_tt
				hidden_effect = {
					add_tech_bonus = {
						name = special_bonus
						ahead_reduction = 3
						uses = 1
						category = lotr_labour_construction
					}
				}
			}
			else_if = {
				limit = { 163 = { is_controlled_by = GON } castle > 1 }
				custom_effect_tooltip = ROH_replicate_numenorean_castles_2_tt
				hidden_effect = {
					add_tech_bonus = {
						name = special_bonus
						ahead_reduction = 2
						uses = 1
						category = lotr_labour_construction
					}
				}
			}
			else = {
				custom_effect_tooltip = ROH_replicate_numenorean_castles_1_tt
				hidden_effect = {
					add_tech_bonus = {
						name = special_bonus
						ahead_reduction = 1
						uses = 1
						category = lotr_labour_construction
					}
				}
			}	
		}
	}

	focus = {
		id = ROH_replicate_orcish_siege_engines
		icon = GFX_goal_ROH_replicate_orcish_siege_engines_grond
		relative_position_id = ROH_siege_works
		prerequisite = { focus = ROH_siege_works }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 1 }
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# steal siege tech from orcs
			steal_random_tech_bonus = {
				category = lotr_machines_siege_equipment
				ahead_reduction = 0.8
				bonus = 1.2
				base_bonus = 1.1
				dynamic = yes
				name = special_bonus
				target = MOR
				uses = 2
			}
		}
	}

	focus = {
		id = ROH_trebuchet_construction
		icon = GFX_goal_ROH_trebuchet_construction
		relative_position_id = ROH_siege_works
		prerequisite = { focus = ROH_siege_works }
		allow_branch = {
			has_dlc = "No Step Back"
		}
		available = {
			rohan_research_tree_cooldown = yes
			controls_province = 6760
			has_tech = basic_siege_tactics
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 1 }
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			create_railway_gun = {
				equipment = siege_trebuchet_equipment_0
				location = 6760
			}
		}
	}

	focus = {
		id = ROH_royal_library_of_edoras
		icon = GFX_goal_focus_research
		relative_position_id = ROH_road_network_expansion
		prerequisite = { focus = ROH_road_network_expansion }
		available = {
			rohan_research_tree_cooldown = yes
			has_tech = library
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 35 }
		x =0
		y =2
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			# research slot
			183 = {
				add_building_construction = {
					type = library
					level = 1
				}
			}
		}
	}

	focus = {
		id = ROH_metallurgy_and_stoneworks
		icon = GFX_goal_ROH_metallurgy_and_stoneworks_crucible_forge
		relative_position_id = ROH_royal_library_of_edoras
		prerequisite = { focus = ROH_royal_library_of_edoras }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 25
				OR = {
				controls_state = 31
					AND = {
						is_ally_with = ISE
						ISE = { controls_state = 31 }
					}
				}
			}
		}
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# metallurgy research bonus
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_metalworking
					uses = 2
					bonus = 0.75
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_metalworking
					uses = 1
					bonus = 0.75
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_labour_metalworking
					uses = 1
					bonus = 0.75
				}
			}
		}
	}

	focus = {
		id = ROH_alchemy_and_wizardry
		icon = GFX_goal_ROH_alchemy_and_wizardry_potions
		relative_position_id = ROH_royal_library_of_edoras
		prerequisite = { focus = ROH_royal_library_of_edoras }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 2 }
		x =1
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# alchemy research bonus
			if = {
				limit = { has_completed_focus = ROH_technological_coherence }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_knowledge_alchemy
					uses = 2
					bonus = 0.75
				}
			}
			else_if = {
				limit = { has_completed_focus = ROH_technological_edge }
				add_tech_bonus = {
					name = special_bonus
					category = lotr_knowledge_alchemy
					uses = 1
					bonus = 0.75
					ahead_reduction = 1.0
				}
			}
			else = {
				add_tech_bonus = {
					name = special_bonus
					category = lotr_knowledge_alchemy
					uses = 1
					bonus = 0.75
				}
			}
		}
	}

	focus = {
		id = ROH_attract_foreign_scholars
		icon = GFX_goal_ROH_attract_foreign_scholars_research
		relative_position_id = ROH_royal_library_of_edoras
		prerequisite = { focus = ROH_alchemy_and_wizardry focus = ROH_metallurgy_and_stoneworks }
		available = {
			rohan_research_tree_cooldown = yes
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 25
				OR = {
				controls_state = 31
					AND = {
						is_ally_with = ISE
						ISE = { controls_state = 31 }
					}
				}
			}
		}
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			# Gondor, Dorwinion, Dale, Rhun, Harad, Angmar
			# each who has > 10 opinion of us will send a specialized research-advisor that will becojme available to us
			# current scholars we will receive:
			# ... a list
			custom_effect_tooltip = ROH_attract_foreign_scholars_tt

			if = {
				limit = { GON = { exists = yes has_opinion = { target = ROOT value > 10 } NOT = { has_war_with = ROOT } } }
				set_country_flag = gon_scholar_unlocked
				custom_effect_tooltip = gon_scholar_tt
			}
			if = {
				limit = { DOR = { exists = yes has_opinion = { target = ROOT value > 10 } NOT = { has_war_with = ROOT } } }
				set_country_flag = dor_scholar_unlocked
				custom_effect_tooltip = dor_scholar_tt
			}
			if = {
				limit = { ERE = { exists = yes has_opinion = { target = ROOT value > 10 } NOT = { has_war_with = ROOT } } }
				set_country_flag = ere_scholar_unlocked
				custom_effect_tooltip = ere_scholar_tt
			}
			if = {
				limit = { RIV = { exists = yes has_opinion = { target = ROOT value > 10 } NOT = { has_war_with = ROOT } } }
				set_country_flag = riv_scholar_unlocked
				custom_effect_tooltip = riv_scholar_tt
			}
			if = {
				limit = { ANG = { exists = yes has_opinion = { target = ROOT value > 10 } NOT = { has_war_with = ROOT } } }
				set_country_flag = ang_scholar_unlocked
				custom_effect_tooltip = ang_scholar_tt
			}
		}
	}

	focus = {
		id = ROH_repurpose_orthanc
		icon = GFX_goal_orthanc_destroyed
		relative_position_id = ROH_royal_library_of_edoras
		prerequisite = { focus = ROH_attract_foreign_scholars }
		available = {
			rohan_research_tree_cooldown = yes
			OR = {
				controls_state = 31
				AND = {
					is_ally_with = ISE
					ISE = { controls_state = 31 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_ROH_STATESCRAFT }
		ai_will_do = { factor = 50 }
		x =0
		y =4
		mutually_exclusive = { }
		cost = 15
		completion_reward = {
			rohan_set_research_tree_cooldown = yes
			custom_effect_tooltip = ROH_repurpose_orthanc_tt
				hidden_effect = {
				# if we own orthanc, get extra research slot
				if = {
					limit = { 31 = { is_controlled_by = ROOT } }
					add_research_slot = 1
				}
				# if we are allies with Isengard, change focus name and do something else
				# add to shared research group with a HEFTY bonus through event
				else_if = {
					limit = { 31 = { is_controlled_by = ISE } ISE = { is_ally_with = ROH } }
					ISE = { add_to_tech_sharing_group = isengard_rohan_group }
					ROH = { add_to_tech_sharing_group = isengard_rohan_group }
				}
			}
		}
	}

	focus = {
		id = ROH_white_mountain_diplomacy
		icon = GFX_goal_ROH_white_mountain_diplomacy_gondor_rohan
		relative_position_id = ROH_accept_grima
		prerequisite = { focus = ROH_accept_grima }
		prerequisite = { focus = ROH_reaffirm_the_oath_of_eorl }
		available = {
			NOT = { has_war_with = GON }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				is_going_cooperative = yes
			}
			modifier = {
				factor = 5
				GON = { is_ai = no }
			}
		}
		x =3
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			GON = {
				add_opinion_modifier = {
					target = ROH
					modifier = medium_increase
				}
			}
			ROH = {
				add_opinion_modifier = {
					target = ROH
					modifier = medium_increase
				}
			}
		}
	}

	focus = {
		id = ROH_support_denethors_claim
		icon = GFX_goal_gondor_denethor
		relative_position_id = ROH_white_mountain_diplomacy
		prerequisite = { focus = ROH_white_mountain_diplomacy }
		mutually_exclusive = { focus = ROH_support_aragorns_claim }
		available = {
			NOT = { has_war_with = GON }
			OR = {
				rohan_has_bop = no
				rohan_has_low_sanity = yes
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_GRIMA }
		ai_will_do = {
			factor = 5
		}
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			GON = {
				add_popularity = {
					ideology = unaligned
					popularity = 0.1
				}
			}
			roh_add_intermediate_grima_drift = yes
		}
	}

	focus = {
		id = ROH_support_aragorns_claim
		icon = GFX_goal_gondor_king_aragorn
		relative_position_id = ROH_white_mountain_diplomacy
		prerequisite = { focus = ROH_white_mountain_diplomacy }
		mutually_exclusive = { focus = ROH_support_denethors_claim }
		available = {
			NOT = { has_war_with = GON }
			OR = {
				rohan_has_bop = no
				rohan_has_low_sanity = yes
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN }
		ai_will_do = {
			factor = 5
		}
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			GON = {
				add_popularity = {
					ideology = cooperative
					popularity = 0.1
				}
			}
			roh_add_intermediate_theoden_drift = yes
		}
	}

	focus = {
		id = ROH_wed_eomer_to_lothiriel
		icon = GFX_goal_ROH_wed_eomer_to_lothiriel_marriage
		relative_position_id = ROH_white_mountain_diplomacy
		prerequisite = { focus = ROH_support_aragorns_claim focus = ROH_support_denethors_claim }
		available = {
			NOT = { has_war_with = DAM }
			rohan_has_bop = no
			ROH_eomer = {
				is_unit_leader = yes
			}
		}
		
		ai_will_do = { factor = 10 }
		x =-1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			# If Gondor capitulates, turns belligerent or revolutionary, DAM will become our puppet

			add_relation_modifier = {
    			target = DAM
    			modifier = eomer_lothiriel_marriage
			}

			DAM = {
				add_relation_modifier = {
					target = ROH
					modifier = eomer_lothiriel_marriage
				}
			}

			custom_effect_tooltip = ROH_wed_eomer_to_lothiriel_tt
		}
	}

	focus = {
		id = ROH_wed_eowyn_to_faramir
		icon = GFX_goal_ROH_wed_eowyn_to_faramir
		relative_position_id = ROH_white_mountain_diplomacy
		prerequisite = { focus = ROH_support_aragorns_claim focus = ROH_support_denethors_claim }
		available = {
			NOT = { has_war_with = GON }
			rohan_has_bop = no
			OR = {
				has_completed_focus = ROH_the_puppet_queen
				has_completed_focus = ROH_pull_the_strings
				has_completed_focus = ROH_let_gandalf_in
				has_completed_focus = ROH_purge_the_rot
			}
		}
		bypass = {
			GON = { has_completed_focus = GON_wed_faramir_to_eowyn }
		}
		
		ai_will_do = { factor = 10 }
		x =1
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			add_relation_modifier = {
    			target = GON
    			modifier = faramir_eowyn_marriage
			}

			GON = {
				add_relation_modifier = {
					target = ROH
					modifier = faramir_eowyn_marriage
				}
			}
		}
	}

	focus = {
		id = ROH_cross_anduin_diplomacy
		icon = GFX_goal_generic_diplomatic_treaty
		relative_position_id = ROH_accept_grima
		prerequisite = { focus = ROH_accept_grima }
		prerequisite = { focus = ROH_eastern_luberyards }
		available = {
			
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				OR = {
					DAL = { is_ai = no }
					DOR = { is_ai = no }
				}
			}
		}
		x =-2
		y =1
		mutually_exclusive = { }
		cost = 5
		completion_reward = {
			every_country = {
				limit = {
					OR = {
						is_center = yes
						original_tag = DOR
					}
					is_orcs = no
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = small_increase
				}
			}
		}
	}

	focus = {
		id = ROH_befriend_dorwinion
		icon = GFX_goal_ROH_befriend_dorwinion_rohan
		relative_position_id = ROH_cross_anduin_diplomacy
		prerequisite = { focus = ROH_cross_anduin_diplomacy }
		available = {
			DOR = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				DOR = { is_ai = no }
			}
		}
		x =1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			DOR = { roh_send_bop_delegation = yes }
		}
	}

	focus = {
		id = ROH_befriend_dale
		icon = GFX_goal_ROH_befriend_dale_rohan
		relative_position_id = ROH_cross_anduin_diplomacy
		prerequisite = { focus = ROH_cross_anduin_diplomacy }
		available = {
			DAL = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BOP_THEODEN }
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				DAL = { is_ai = no }
			}
		}
		x =-1
		y =1
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			DAL = { roh_send_bop_delegation = yes }
		}
	}

	focus = {
		id = ROH_expanded_trade_network
		icon = GFX_goal_ROH_expanded_trade_network_infra_wagon
		relative_position_id = ROH_cross_anduin_diplomacy
		prerequisite = { focus = ROH_befriend_dale }
		prerequisite = { focus = ROH_befriend_dorwinion }
		available = {
			OR = {
				DOR = { has_country_flag = has_accepted_cross_anduin_diplo }
				DAL = { has_country_flag = has_accepted_cross_anduin_diplo }
			}
		}
		
		ai_will_do = { factor = 15 }
		x =0
		y =2
		mutually_exclusive = { }
		cost = 10
		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = ROH_expanded_trade_network_tt

				if = {
					limit = {
						OR = {
							DOR = { has_country_flag = has_accepted_cross_anduin_diplo }
							DAL = { has_country_flag = has_accepted_cross_anduin_diplo }
						}
					}
					custom_effect_tooltip = generic_current_effects
				}
				if = {
					limit = { DOR = { has_country_flag = has_accepted_cross_anduin_diplo } }
					ROH = { add_cic = 500 }
					DOR = { add_cic = 500 }
				}
				if = {
					limit = { DAL = { has_country_flag = has_accepted_cross_anduin_diplo } }
					ROH = { add_cic = 500 }
					DAL = { add_cic = 500 }
				}
			}

			else = {
				custom_effect_tooltip = ROH_expanded_trade_network_no_aat_tt

				if = {
					limit = {
						OR = {
							DOR = { has_country_flag = has_accepted_cross_anduin_diplo }
							DAL = { has_country_flag = has_accepted_cross_anduin_diplo }
						}
					}
					custom_effect_tooltip = generic_current_effects
				}
				if = {
					limit = { DOR = { has_country_flag = has_accepted_cross_anduin_diplo } }
					ROH = { add_ideas = improved_trade }
					DOR = { add_ideas = improved_trade }
				}
				if = {
					limit = { DAL = { has_country_flag = has_accepted_cross_anduin_diplo } }
					ROH = { add_ideas = improved_trade }
					DAL = { add_ideas = improved_trade }
				}
			}
		}
	}

}
