line_of_battle = {
    track = capital_ships
    name = SUBDOCTRINE_LINE_OF_BATTLE
    description = SUBDOCTRINE_LINE_OF_BATTLE_DESC
    icon = GFX_grand_battlefleet_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { }

    # EFFECTS
	navy_fuel_consumption_factor = -0.05
	naval_has_potf_in_combat_attack = 0.10

    rewards = {
        flagships={
            carrack= {
                max_organisation = 5
            }
			carrack = {
				max_organisation = 5
			}
        }
        ordnance_handling_training = {
			carrack = {
				hg_attack = 0.05
				lg_attack = 0.05
				hg_armor_piercing = 0.05
			}
			carrack = {
				hg_attack = 0.05
			}
        }
        blue_water_logistics = { #TODO see if these make sense
            carrack = {
				supply_consumption = -0.01
			}
			caravel = {
				supply_consumption = -0.01
			}
        }
        bulkhead_drills = {
            carrack = {
				naval_torpedo_damage_reduction_factor = 0.1
			}
			carrack = {
				naval_torpedo_damage_reduction_factor = 0.1
			}
        }
        modernized_line_of_battle={
            carrack = {
				max_organisation = 10
			}
			carrack = {
				max_organisation = 5
			}
			caravel= {
                max_organisation = 5
            }
        }
    }
}

battlecruiser_supremacy = {
    track = capital_ships
    name = SUBDOCTRINE_BATTLECRUISER_SUPREMACY
    description = SUBDOCTRINE_BATTLECRUISER_SUPREMACY_DESC
    icon = GFX_battlefleet_concentration_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { }

    # EFFECTS
	naval_supply_consumption_factor = -0.05
	naval_critical_score_chance_factor = 0.03

    rewards = {
        ship_of_the_line={
            caravel= {
                max_organisation = 10
            }
			carrack = {
				max_organisation = 10
			}
        }
        coordinated_strike_protocol = {
			caravel = {
				hg_attack = 0.10
				lg_attack = 0.05
			}
			carrack = {
				lg_attack = 0.05
			}
        }
        open_water_patrolling = {
            caravel = {
				surface_detection = 0.05
			}
			carrack = {
				surface_detection = 0.10
			}
        }
        planning_at_speed = {
            carrack = {
				naval_speed = 0.1
			}
			caravel = {
				naval_speed = 0.05
			}
			carrack = {
				naval_speed = 0.05
			}
        }
        capital_drills={
            carrack = {
				max_organisation = 5
			}
			caravel= {
                max_organisation = 10
            }
			carrack = {
				max_organisation = 5
			}
        }
    }
}

armored_raiders = {
    track = capital_ships
    name = SUBDOCTRINE_ARMORED_RAIDERS
    description = SUBDOCTRINE_ARMORED_RAIDERS_DESC
    icon = GFX_capital_ship_raiders_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { }

    # EFFECTS
	naval_supply_consumption_factor = -0.10
	screening_without_screens = 0.10

    rewards = {
        expert_reconnaissance={
            caravel= {
                surface_detection = 0.1
            }
			carrack = {
				surface_detection = 0.1
			}
        }
        speed_trials = {
            equipment_bonus = {
                capital_ship = {
                    naval_range = 0.10
                    instant = yes
                }
            }
        }
        modernized_officer_education = {
            caravel= {
                max_organisation = 5
            }
			carrack = {
				max_organisation = 5
			}
        }
        capital_raiders = {
            carrack = {
				max_organisation = 5
				convoy_raiding_coordination = 0.25
				surface_detection = 0.10
			}
			caravel = {
				max_organisation = 5
				convoy_raiding_coordination = 0.15
				surface_detection = 0.15
			}
			carrack = {
				max_organisation = 5
			}
        }
        crisis_management={
            modifier = {
				navy_casualty_on_hit = -0.40
				navy_casualty_on_sink = -0.20
			}
        }
    }
}

coastal_defence_fleet = {
    track = capital_ships
    name = SUBDOCTRINE_COASTAL_DEFENCE
    description = SUBDOCTRINE_COASTAL_DEFENCE_DESC
    icon = GFX_floating_fortress_medium

    xp_cost = 100
    xp_type = navy

    available = {
		has_dlc = "No Compromise, No Surrender"
    }

    ai_will_do = { }

    # EFFECTS
	effect = {
		IF = {
			limit = {
				NOT = {
					has_tech = coastal_defense_ships
				}
			}
			set_technology = { 
				coastal_defense_ships = 1 
			}
		}
	}
	naval_supply_consumption_factor = -0.15
	navy_max_range_factor = -0.10


    rewards = {
        aging_navy={
            modifier = { refit_speed = 0.15 }
        }
        casemate_upgrades = {
            equipment_bonus = {
                ship_hull_cruiser_coastal_defense_ship = {
                    anti_air_attack = 0.15
                    lg_attack = 0.05
                    instant = yes
                }
            }
        }
        escort_duties= {
            carrack= {
                sub_detection = 0.15
            }
			galley= {
                sub_detection = 0.10
            }
        }
        hail_of_fire = {
            modifier = {
				naval_light_gun_hit_chance_factor = 0.05
			}
        }
        spare_part_logistics={
            modifier = {
				refit_ic_cost = -0.15
			}
        }
    }
}

naval_gunfire_support = {
    track = capital_ships
    name = SUBDOCTRINE_NAVAL_GUNFIRE_SUPPORT
    description = SUBDOCTRINE_NAVAL_GUNFIRE_SUPPORT_DESC
    icon = GFX_doctrine_naval_gunfire_support_medium 

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { }

	shore_bombardment_bonus = 0.25
	navy_fuel_consumption_factor = -0.10

    rewards = {
        landing_lane_clearance = {
            modifier = { 
            naval_mine_hit_chance = -0.10
            mines_sweeping_by_fleets_factor = 0.10
            }
        }

        inshore_aa_screen = {
			carrack = {
				anti_air_attack = 0.15
			}		
			carrack = {
				anti_air_attack = 0.15
			}
			caravel = {
				anti_air_attack = 0.15
			}				

        }

        joint_operations= {
        	naval_invasion_planning_bonus_speed = 0.20
        	naval_repair_support_value_factor = 0.10
    		naval_general_support_value_factor = 0.10

        }

        floating_base={
            modifier = {
        		navy_casualty_on_hit = -0.20
        		navy_casualty_on_sink = -0.10
    			floating_harbor_supply = 0.25
    			
        	}
        }

        green_water_operations={
    		carrack = {
    			water_shallow_sea = {
				attack = 0.1
				movement = 0.1
				}
				water_fjords = {
    			attack = 0.1
    			movement = 0.1
				}
			}
			caravel = {
				water_shallow_sea = {
				attack = 0.1
				movement = 0.1
				}
				water_fjords = {
			    attack = 0.1
			    movement = 0.1
				}
			}
			carrack = {
    			water_shallow_sea = {
				attack = 0.1
				movement = 0.1
				}
				water_fjords = {
    			attack = 0.1
    			movement = 0.1
				}
			}
			coordination_bonus = 0.1
			refit_speed = 0.2
   		}
   	}
}




