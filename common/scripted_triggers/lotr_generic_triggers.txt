# @docs(Genetic): checks if the given character is alive and available
is_alive = {
	check_variable = { isdead = 0 }
}


# @docs(Generic): checks if THIS has a trade law of free trade or export focus
has_high_trade = {
	custom_trigger_tooltip = {
		tooltip = has_high_trade_tt
		has_low_trade = no
	}
}

# @docs(Generic): checks if THIS has a trade law of closed economy or limited eyports
has_low_trade = {
	custom_trigger_tooltip = {
		tooltip = has_low_trade_tt
		OR = {
			has_idea = limited_exports
			has_idea = closed_economy
			has_idea = protectionist_trade
		}
	}
}


# @docs(Generic): checks if THIS has a levy law above volunteer service
has_mandatory_conscription = {
	custom_trigger_tooltip = {
		tooltip = has_mandatory_conscription_tt
		has_volunteer_army = no
	}
}

# @docs(Generic): checks if THIS has a levy law of volunteer service or below
has_volunteer_army = {
	custom_trigger_tooltip = {
		tooltip = has_volunteer_army_tt
		OR = {
			has_idea = no_standing_army
			has_idea = priviledged_service
			has_idea = volunteer_service
		}
	}
}


# @docs(Generic): checks if THIS has a centralization law of strong or more
has_strong_centralization_or_higher = {
	custom_trigger_tooltip = {
		tooltip = has_strong_centralization_or_higher_tt
		has_moderate_centralization_or_less = no
	}
}

# @docs(Generic): checks if THIS has a centralization law of moderate or less
has_moderate_centralization_or_less = {
	custom_trigger_tooltip = {
		tooltip = has_moderate_centralization_or_less_tt
		OR = {
			has_idea = moderate_centralization
			has_idea = weak_centralization
			has_idea = no_centralization
		}
	}
}

# @docs(Generic): checks if THIS has a centralization law of strong or less
has_strong_centralization_or_less = {
	custom_trigger_tooltip = {
		tooltip = has_strong_centralization_or_less_tt
		OR = {
			has_idea = strong_centralization
			has_idea = moderate_centralization
			has_idea = weak_centralization
			has_idea = no_centralization
		}
	}
}

# @docs(Generic): checks if THIS has a tax law of low or less
has_low_taxes_or_less = {
	custom_trigger_tooltip = {
		tooltip = has_low_taxes_or_less_tt
		OR = {
			has_idea = low_taxes
			has_idea = no_taxes
		}
	}
}

# @docs(Generic): checks if THIS has a tax law of medium or less
has_medium_taxes_or_less = {
	custom_trigger_tooltip = {
		tooltip = has_medium_taxes_or_less_tt
		OR = {
			has_idea = medium_taxes
			has_idea = low_taxes
			has_idea = no_taxes
		}
	}
}


# @docs(Generic): checks if THIS has the same race as ROOT
is_same_race = {
	OR = {
		AND = { ROOT = { is_men = yes } is_men = yes }
		AND = { ROOT = { is_elves = yes } is_elves = yes }
		AND = { ROOT = { is_orcs = yes } is_orcs = yes }
		AND = { ROOT = { is_dwarves= yes } is_dwarves = yes }
	}
}


# @docs(Generic): state controlled by this or ally
is_coontrolled_by_THIS_or_ally = {
	OR = {
		is_controlled_by = THIS
		var:controller = { is_ally_with = PREV }
	}
}


# @docs(Generic): hecks if THIS is weaker than ROOT
is_weaker = {
	ic_ratio = {
		tag = ROOT
		ratio < 0.9
	}
}

# @docs(Generic):checks if THIS is weaker than ROOT
is_significantly_weaker = {
	ic_ratio = {
		tag = ROOT
		ratio < 0.6
	}
}

# @docs(Generic):checks if THIS is stronger than ROOT
is_stronger = {
	ic_ratio = {
		tag = ROOT
		ratio > 1.1
	}
}

# @docs(Generic):checks if THIS is stronger than ROOT
is_significantly_stronger = {
	ic_ratio = {
		tag = ROOT
		ratio > 1.8
	}
}

# @docs(Generic): Always false, provides tooltip about requiring event
autocompleted_on_event = {
	custom_trigger_tooltip = {
		tooltip = autocompleted_on_event_tt
		always = no
	}
}

# @docs(Generic): Checks if the given character is dead
is_dead = {
	custom_trigger_tooltip = {
		tooltip = is_dead_tt
		has_character_flag = is_dead
	}
}

# @docs(Generic): Checks if the given character is alive
is_alive = {
	custom_trigger_tooltip = {
		tooltip = is_alive_tt
		is_dead = no
	}
}