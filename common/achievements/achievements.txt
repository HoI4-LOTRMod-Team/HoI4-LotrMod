

unique_id = lotr_achievements

#General
wizards_should_know_better = {
	possible = {
		achievement_standard_possible_check = yes
        NOT = { tag = ISE }
	}
	
	happened = {
        has_government = cooperative
        OR = {
            ISE = {
                is_puppet_of = ROOT
            }
            controls_state = 31
        }
	}
}

one_ring_to_rule_them_all_test = {
	possible = {
		achievement_standard_possible_check = yes
	}

	happened = {
		ROOT = {
			ring_has_the_ring = yes
		}
	}
}

revenge_for_the_battle_of_the_five_armies_test = {
	possible = {
		achievement_standard_possible_check = yes
		OR = {
			tag = GUN
			tag = DGU
		}
	}

	happened = {
		ERE = {
			all_core_state = {
				OR = {
					is_controlled_by = GUN
					is_controlled_by = DGU
				}
			}
		}
		MIR = {
			all_core_state = {
				OR = {
					is_controlled_by = GUN
					is_controlled_by = DGU
				}
			}
		}
		DAL = {
			all_core_state = {
				OR = {
					is_controlled_by = GUN
					is_controlled_by = DGU
				}
			}
		}
	}
}

#Angmar
ANG_the_necromancer = {
	possible = {
		achievement_standard_possible_check = yes
        tag = ANG
	}
	
	happened = {
        tag = ANG
		has_country_flag = ANG_sauron_returned
        has_government = belligerent
	}
}

#Shire
SHI_taking_the_hobbits_to_isengard_test = {
	possible = {
		achievement_standard_possible_check = yes
		tag = SHI
	}

	happened = {
		ISE = {
			all_core_state = {
				is_controlled_by = SHI
			}
		}
	}
}

#Mordor
MOR_not_my_dark_lord_test = {
	possible = {
		achievement_standard_possible_check = yes
		tag = MOR
	}

	happened = {
		has_country_flag = MOR_orcs_have_taken_over_mordor
		has_country_flag = orcs_of_mordor_declared_war_on_ANG_achievement_flag
		has_country_flag = orcs_of_mordor_won_war_against_ANG_achievement_flag
		ANG = {
			has_country_flag = ANG_sauron_returned
		}
	}
}

#Dol Amroth
DAM_god_damnroth_test = {
	possible = {
		achievement_standard_possible_check = yes
		tag = DAM
	}

	happened = {
		hidden_trigger = {
			num_of_factories > GON.num_of_factories
		}
	}
}

#Entwood
ENT_triple_tree_triumvirate_test = {
	possible = {
		achievement_standard_possible_check = yes
		tag = ENT
	}

	happened = {
		LTH = {
			all_core_state = {
				is_controlled_by = ENT
			}
		}
		MIR = {
			all_core_state = {
				is_controlled_by = ENT
			}
		}
	}
}

#Moria
MOR_morgoths_most_loyal_general_test = {
	possible = {
		achievement_standard_possible_check = yes
		original_tag = MOA
	}

	happened = {
		tag = MOC
		has_completed_focus = submittothebalrog
		is_in_faction_with = MOR
		LTH = {
			all_core_state = {
				is_controlled_by = MOC
			}
		}
		RIV = {
			all_core_state = {
				is_controlled_by = MOC
			}
		}
	}
}

MOR_side_by_side_with_an_elf_test = {
	possible = {
		achievement_standard_possible_check = yes
		tag = MOA
	}

	happened = {
		tag = MOA
		OR = {
			is_in_faction_with = RIV
			is_in_faction_with = LTH
		}
	}
}

#Isengard
ISE_my_brother_my_captian_my_king_test = {
	possible = {
		achievement_standard_possible_check = yes
		tag = ISE
	}

	happened = {
		has_country_flag = lurtz_killed_boromir_while_attacking_the_fellowship_the_achievement_flag
	}
}

ISE_a_wizard_is_never_late_test = {
	possible = {
		achievement_standard_possible_check = yes
		tag = ISE
	}

	happened = {
		has_government = cooperative
		GON = { exists = no }
		ROH = { exists = no }
		has_country_flag = ISE_won_war_against_MOR_achievement_flag
	}
}