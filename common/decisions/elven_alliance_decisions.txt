elven_alliance_decisions_category = {

	vote_in_progress = {
        icon = GFX_decision_generic_naval
		cost = 150

        activation = {
            has_global_flag = ea_vote_in_progress
        }
		available = {
            always = no
        }
		visible = {
			always = yes
		}

		ai_will_do = {
			factor = 0
		}

		priority = 100

		fire_only_once = no
		is_good = yes
		days_mission_timeout = 30
		selectable_mission = no

		timeout_effect = {
            # Count votes and pass resolution

			clr_global_flag = ea_vote_in_progress

			set_global_flag = ea_assembly_in_recess
			#activate_mission = assembly_in_recess

			elven_alliance_vote_effect = yes
        }

		cancel_trigger = {
            always = no
        }
	}

	assembly_in_recess = {
        icon = GFX_decision_generic_naval
		cost = 150

		activation = {
            has_global_flag = ea_assembly_in_recess
        }
        available = {
            always = no
        }
		visible = {
			always = yes
		}

		ai_will_do = {
			factor = 0
		}

		priority = 100

		fire_only_once = no

		is_good = yes
		days_mission_timeout = 10
		selectable_mission = no

		timeout_effect = {
			clr_global_flag = ea_assembly_in_recess
        }

		cancel_trigger = {
            always = no
        }
	}


	propose_ea_resolution_alliance = {
        icon = GFX_decision_generic_naval
		cost = var:elven_alliance_proposal_cost

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { has_global_flag = ea_vote_in_progress }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
			set_variable = { ea_current_resolution_proposer = ROOT }

			effect_tooltip = { ea_resolution_alliance_effect = yes }
			
			set_variable = { global.ea_current_resolution = token:ea_resolution_alliance }
		}
	}

	propose_ea_resolution_industry = {
        icon = GFX_decision_generic_naval
		cost = var:elven_alliance_proposal_cost

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { has_global_flag = ea_vote_in_progress }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
			set_variable = { ea_current_resolution_proposer = ROOT }

			effect_tooltip = { ea_resolution_industry_effect = yes }
			
			set_variable = { global.ea_current_resolution = token:ea_resolution_industry }
		}
	}

	propose_ea_resolution_expansion = {
        icon = GFX_decision_generic_naval
		cost = var:elven_alliance_proposal_cost

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { has_global_flag = ea_vote_in_progress }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
			set_variable = { ea_current_resolution_proposer = ROOT }

			effect_tooltip = { ea_resolution_expansion_effect = yes }
			
			set_variable = { global.ea_current_resolution = token:ea_resolution_expansion }
		}
	}

	propose_ea_resolution_trade = {
        icon = GFX_decision_generic_naval
		cost = var:elven_alliance_proposal_cost

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { has_global_flag = ea_vote_in_progress }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
			set_variable = { ea_current_resolution_proposer = ROOT }

			effect_tooltip = { ea_resolution_trade_effect = yes }
			
			set_variable = { global.ea_current_resolution = token:ea_resolution_trade }
		}
	}

	propose_ea_resolution_peace = {
        icon = GFX_decision_generic_naval
		cost = var:elven_alliance_proposal_cost

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { has_global_flag = ea_vote_in_progress }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
			set_variable = { ea_current_resolution_proposer = ROOT }

			effect_tooltip = { ea_resolution_peace_effect = yes }
			
			set_variable = { global.ea_current_resolution = token:ea_resolution_peace }
		}
	}

	propose_ea_resolution_research = {
        icon = GFX_decision_generic_naval
		cost = var:elven_alliance_proposal_cost

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { has_global_flag = ea_vote_in_progress }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
			set_variable = { ea_current_resolution_proposer = ROOT }

			effect_tooltip = { ea_resolution_research_effect = yes }
			
			set_variable = { global.ea_current_resolution = token:ea_resolution_research }
		}
	}

	propose_ea_resolution_hegemony = {
        icon = GFX_decision_generic_naval
		cost = var:elven_alliance_proposal_cost

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { has_global_flag = ea_vote_in_progress }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
			set_variable = { ea_current_resolution_proposer = ROOT }

			effect_tooltip = { ea_resolution_hegemony_effect = yes }
			
			set_variable = { global.ea_current_resolution = token:ea_resolution_hegemony }
		}
	}

	propose_ea_resolution_martial = {
        icon = GFX_decision_generic_naval
		cost = var:elven_alliance_proposal_cost

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { has_global_flag = ea_vote_in_progress }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
			set_variable = { ea_current_resolution_proposer = ROOT }

			effect_tooltip = { ea_resolution_martial_effect = yes }
			
			set_variable = { global.ea_current_resolution = token:ea_resolution_martial }
		}
	}

	propose_ea_resolution_union = {
        icon = GFX_decision_generic_naval
		cost = var:elven_alliance_proposal_cost

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { has_global_flag = ea_vote_in_progress }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
			set_variable = { ea_current_resolution_proposer = ROOT }

			effect_tooltip = { ea_resolution_union_effect = yes }
			
			set_variable = { global.ea_current_resolution = token:ea_resolution_union }
		}
	}
}